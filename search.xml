<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>ELKåˆ†å¸ƒå¼éƒ¨ç½²</title>
    <url>/2023/06/04/ELK%E5%88%86%E5%B8%83%E5%BC%8F%E9%83%A8%E7%BD%B2/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>ELK</category>
      </categories>
      <tags>
        <tag>åˆ†å¸ƒå¼</tag>
        <tag>å¾®æœåŠ¡</tag>
        <tag>ELK</tag>
        <tag>æ—¥å¿—</tag>
      </tags>
  </entry>
  <entry>
    <title>javaé¡¹ç›®å®‰å…¨é—®é¢˜</title>
    <url>/2023/06/04/Java%E9%A1%B9%E7%9B%AE%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</url>
    <content><![CDATA[<p><strong>1.å¼±å£ä»¤æ¼æ´</strong></p>
<blockquote>
<p>è§£å†³æ–¹æ¡ˆï¼šæœ€å¥½ä½¿ç”¨è‡³å°‘6ä½çš„æ•°å­—ã€å­—æ¯åŠç‰¹æ®Šå­—ç¬¦ç»„åˆä½œä¸ºå¯†ç ã€‚æ•°æ®åº“ä¸è¦å­˜å‚¨æ˜æ–‡å¯†ç ï¼Œåº”å­˜å‚¨MD5åŠ å¯†åçš„å¯†æ–‡ï¼Œç”±äºç›®å‰æ™®é€šçš„MD5åŠ å¯†å·²ç»å¯ä»¥è¢«ç ´è§£ï¼Œæœ€å¥½å¯ä»¥å¤šé‡MD5åŠ å¯†ï¼Œæˆ–è€…å¤šç§åŠ å¯†æ–¹å¼å åŠ ç»„åˆã€‚</p>
</blockquote>
<p><strong>2.æœªä½¿ç”¨ç”¨æˆ·ååŠå¯†ç ç™»å½•åå°å¯ç›´æ¥è¾“å…¥åå°URLç™»å½•ç³»ç»Ÿã€‚</strong></p>
<blockquote>
<p>è§£å†³æ–¹æ¡ˆï¼šé€šè¿‡é…ç½®filteræ¥è¿‡æ»¤æ‰æ— æ•ˆç”¨æˆ·çš„è¿æ¥è¯·æ±‚ã€‚</p>
</blockquote>
<p><strong>3ï¼JSPé¡µé¢æŠ›å‡ºçš„å¼‚å¸¸å¯èƒ½æš´éœ²ç¨‹åºä¿¡æ¯ã€‚æœ‰ç»éªŒçš„å…¥ä¾µè€…ï¼Œå¯ä»¥ä»JSPç¨‹åºçš„å¼‚å¸¸ä¸­è·å–å¾ˆå¤šä¿¡æ¯ï¼Œæ¯”å¦‚ç¨‹åºçš„éƒ¨åˆ†æ¶æ„ã€ç¨‹åºçš„ç‰©ç†è·¯å¾„ã€SQLæ³¨å…¥çˆ†å‡ºæ¥çš„ä¿¡æ¯ç­‰ã€‚</strong></p>
<blockquote>
<p>è§£å†³æ–¹æ¡ˆï¼šè‡ªå®šä¹‰ä¸€ä¸ªExceptionï¼Œå°†å¼‚å¸¸ä¿¡æ¯åŒ…è£…èµ·æ¥ä¸è¦æŠ›åˆ°é¡µé¢ä¸Šã€‚</p>
</blockquote>
<p><strong>4.åˆæ³•ç”¨æˆ·â€æ³¨é”€â€åï¼Œåœ¨æœªå…³é—­æµè§ˆå™¨çš„æƒ…å†µä¸‹ï¼Œç‚¹å‡»æµè§ˆå™¨â€åé€€â€æŒ‰é’®ï¼Œå¯ä»æœ¬åœ°é¡µé¢ç¼“å­˜ä¸­è¯»å–æ•°æ®ï¼Œç»•è¿‡äº†æœåŠ¡ç«¯filterè¿‡æ»¤ã€‚</strong></p>
<blockquote>
<blockquote>
<p>è§£å†³æ–¹æ¡ˆï¼šé…ç½®filterå¯¹å­˜æ”¾æ•æ„Ÿä¿¡æ¯çš„é¡µé¢é™åˆ¶é¡µé¢ç¼“å­˜ã€‚å¦‚ï¼š</p>
</blockquote>
<p>httpResponse.setHeader(â€œCache-Controlâ€,â€no-cacheâ€);<br>httpResponse.setHeader(â€œCache-Controlâ€,â€no-storeâ€);<br>httpResponse.setDateHeader(â€œExpiresâ€, 0);<br>httpResponse.setHeader(â€œPragmaâ€,â€no-cacheâ€);</p>
</blockquote>
<p><strong>5.SQLæ³¨å…¥æ¼æ´ã€‚</strong></p>
<blockquote>
<p>è§£å†³æ–¹æ¡ˆï¼šåœ¨æ•°æ®åº“è®¿é—®å±‚ä¸­ä¸è¦ä½¿ç”¨â€+â€æ¥æ‹¼æ¥SQLè¯­å¥ï¼å¦‚ï¼š</p>
<p>String sql&#x3D; â€œSELECT * FROM USERS WHERE 1&#x3D;1â€; if(null !&#x3D;<br>user.getUserName() &amp;&amp; !â€â€.equals(user.getUserName())){<br>sql +&#x3D; â€œ and UNAME &#x3D; â€˜â€œ+user.getUserName()+â€â€˜â€œ; } è€Œåº”ä½¿ç”¨PreparedStatementã€‚å¦‚ï¼š</p>
<p>PreparedStatement pstmt &#x3D; con.prepareStatement(â€œSELECT * FROM USERS<br>WHERE UNAME&#x3D;?â€); pstmt.setString(1, â€œNeekeâ€);<br>å¦‚æœé¡¹ç›®ä¸­ä½¿ç”¨äº†Hibernateæ¡†æ¶ï¼Œåˆ™æ¨èä½¿ç”¨named parameterã€‚å¦‚ï¼š</p>
<p>String queryString &#x3D; â€œfrom Users where uname like :nameâ€; å†’å·åé¢æ˜¯ä¸€ä¸ªnamed<br>parameterï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Queryæ¥å£å°†ä¸€ä¸ªå‚æ•°ç»‘å®šåˆ°nameå‚æ•°ä¸Šï¼š</p>
<p>List result &#x3D; session.createQuery(queryString)<br>.setString(â€œnameâ€, user.getUserName())<br>.list();</p>
</blockquote>
<p><strong>6.æ–‡ä»¶ä¸Šä¼ æ¼æ´ã€‚å‰å°ä»…ä½¿ç”¨JSå¯¹æ–‡ä»¶åç¼€åšäº†è¿‡æ»¤ï¼Œè¿™åªèƒ½é’ˆå¯¹æ™®é€šçš„ç”¨æˆ·ï¼Œè€Œæ¶æ„æ”»å‡»è€…å®Œå…¨å¯ä»¥ä¿®æ”¹è¡¨å•å»æ‰JSæ ¡éªŒã€‚</strong></p>
<blockquote>
<p>è§£å†³æ–¹æ¡ˆï¼šå‰å°JSè¿‡æ»¤åŠ æœåŠ¡å™¨ç«¯ç¨‹åºè¿‡æ»¤ã€‚å…·ä½“è¿‡æ»¤æ‰å“ªäº›æ–‡ä»¶ç±»å‹è§†å…·ä½“æƒ…å†µè€Œå®šã€‚</p>
</blockquote>
<p><strong>7.å¯æ‰§è¡Œè„šæœ¬æ¼æ´ã€‚å¯¹ç”¨æˆ·æäº¤çš„æ•°æ®æœªè½¬ä¹‰ï¼Œä¸€äº›ç”¨æˆ·æäº¤çš„å«æœ‰JavaScriptè„šæœ¬çš„ä¿¡æ¯è¢«ç›´æ¥è¾“å‡ºåˆ°é¡µé¢ä¸­ä»è€Œè¢«æµè§ˆå™¨æ‰§è¡Œã€‚</strong></p>
<blockquote>
<p>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨org.apache.commons.lang.StringEscapeUtilså¯¹ç”¨æˆ·æäº¤çš„æ•°æ®è¿›è¡Œè½¬ä¹‰ã€‚å¦‚ï¼š</p>
<p>@RequestMapping(params&#x3D;â€method&#x3D;addTopicâ€,method&#x3D;RequestMethod.POST)<br>public ModelAndView addTopic(HttpServletRequest request,<br>HttpServletResponse response, BbsTopic topic) { BaseAdmin user &#x3D;<br>(BaseAdmin) request.getSession().getAttribute(Constant.SESSION_USER);<br>topic.setBaseAdmin(user); topic.setTopicDate(new<br>Timestamp(System.currentTimeMillis()));<br>topic.setTopicContent(StringEscapeUtils.escapeHtml(topic.getTopicContent()));<br>topic.setTopicTitle(StringEscapeUtils.escapeHtml(topic.getTopicTitle()));<br>this.bbsTopicService.save(topic); return new ModelAndView(new<br>RedirectView(â€œ<a href="http://bbs.do/?method=topicList&bfid=">bbs.do?method&#x3D;topicList&amp;bfid&#x3D;</a>â€œ+ topic.getBfid())); }</p>
</blockquote>
<p><strong>8.Java WEBå®¹å™¨é»˜è®¤é…ç½®æ¼æ´ã€‚å¦‚TOMCATåå°ç®¡ç†æ¼æ´ï¼Œé»˜è®¤ç”¨æˆ·ååŠå¯†ç ç™»å½•åå¯ç›´æ¥ä¸Šä¼ waræ–‡ä»¶è·å–webshellã€‚</strong></p>
<blockquote>
<p>è§£å†³æ–¹æ¡ˆï¼šæœ€å¥½åˆ é™¤ï¼Œå¦‚éœ€è¦ä½¿ç”¨å®ƒæ¥ç®¡ç†ç»´æŠ¤ï¼Œå¯æ›´æ”¹å…¶é»˜è®¤è·¯å¾„ï¼Œå£ä»¤åŠå¯†ç ã€‚</p>
</blockquote>
<p><strong>9.æ—¥å¿—ï¼Œå»ºè®®å¢åŠ æœåŠ¡å™¨çš„è®¿é—®æ—¥å¿—ï¼Œè®°å½•æ¥è®¿è€…çš„IP,ä¼ é€’å‚æ•°ï¼Œå¯¹åå°æ“ä½œç”¨æˆ·å»ºç«‹æ—¥å¿—ï¼Œè®°å½•æ“ä½œå†…å®¹ï¼Œå®Œå–„æ—¥å¿—è®°å½•å¯ä»¥å¸®åŠ©ä½ å‘ç°æ½œåœ¨å±é™©ï¼Œæ‰¾åˆ°å·²ç»å‘ç”Ÿçš„é—®é¢˜ã€‚<br>10.é‡æ”¾æ”»å‡»<br>11.åƒµå°¸ç½‘ç»œæš´åŠ›ç ´è§£<br>12.ç™»é™†è¡¨å•httpæ˜æ–‡æäº¤<br>13.åƒä¸‡ä¸è¦ä¹±ç”¨æ•°æ®ç±»å‹ï¼Œä½¿ç”¨åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå°‘ç”¨åŒ…è£…ç±»ï¼ŒåŒ…è£…ç±»å®¹æ˜“è¢«æ”»å‡»ï¼Œä¸è¦ç”¨stringå»æ¥å—æ‰€æœ‰ç±»å‹æ•°æ®ã€‚åŸåˆ™ä¸Šï¼šæ˜¯ä»€ä¹ˆç±»å‹å°±ç”¨ä»€ä¹ˆç±»å‹å»æ¥æ”¶ã€‚<br>14.é€šè¿‡æ¶æ„è®¾è®¡ï¼Œæ·»åŠ ä¸€å±‚è®¾ç½®å¤„ç†httpå‚æ•°ã€‚ä¸€èˆ¬éƒ½æ˜¯é€šè¿‡aopæ¥å®ç°.æ¯”å¦‚ï¼šå¯¹é‚®ä»¶ï¼Œæ‰‹æœºéªŒè¯å¯¹æ•´æ•°æœ€å¤§å€¼éªŒè¯ï¼Œå¯¹å­—ç¬¦ä¸²æœ€å¤§é•¿åº¦éªŒè¯<br>15.ç‚¹å‡»åŠ«æŒï¼Œå¤§æ¦‚æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€æ˜¯æ”»å‡»è€…ä½¿ç”¨ä¸€ä¸ªé€æ˜çš„iframeï¼Œè¦†ç›–åœ¨ä¸€ä¸ªç½‘é¡µä¸Šï¼Œç„¶åè¯±ä½¿ç”¨æˆ·åœ¨è¯¥é¡µé¢ä¸Šè¿›è¡Œæ“ä½œï¼Œæ­¤æ—¶ç”¨æˆ·å°†åœ¨ä¸å€¼é’±çš„æƒ…å†µä¸‹ç‚¹å‡»é€æ˜çš„iframeé¡µé¢ï¼ŒäºŒæ˜¯æ”»å‡»è€…ä½¿ç”¨ä¸€å¼ å›¾ç‰‡è¦†ç›–åœ¨ç½‘é¡µï¼Œé®æŒ¡ç½‘é¡µåŸæœ‰ä½ç½®çš„å«ä¹‰ã€‚</strong></p>
]]></content>
      <categories>
        <category>javaå®‰å…¨</category>
      </categories>
      <tags>
        <tag>å®‰å…¨</tag>
        <tag>sqlæ³¨å…¥</tag>
        <tag>ä¸Šä¼ æ¼æ´</tag>
        <tag>è¿ç»´</tag>
      </tags>
  </entry>
  <entry>
    <title>cornè¡¨è¾¾å¼åŠ¨æ€é…ç½®</title>
    <url>/2023/06/04/cron%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8A%A8%E6%80%81%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<blockquote>
<p>ç”±äºä¸šåŠ¡éœ€æ±‚ï¼Œéœ€è¦æä¾›ä¸€ä¸ªèƒ½å¤Ÿè®©ç”¨æˆ·åŠ¨æ€é…ç½®å®šæ—¶ä»»åŠ¡çš„å…¥å£ï¼Œå®šæ—¶å»åŒæ­¥æ•°æ®</p>
</blockquote>
<p>1ã€ç®€å•çš„ä¸šåŠ¡å¤„ç†ï¼Œç›´æ¥ä½¿ç”¨@Scheduledæ³¨è§£å°±èƒ½å¼€å¯å®šæ—¶ä»»åŠ¡ï¼Œä¾‹å¦‚åœ¨æ–¹æ³•ä¸Š@Scheduled(cron &#x3D; â€œ0 0&#x2F;1 * * * ?â€)ï¼Œä¹¦å†™cronè¡¨è¾¾å¼å°±èƒ½é…ç½®å®šæ—¶ä»»åŠ¡ã€‚</p>
<figure class="highlight plaintext"><figcaption><span>language-java</span></figcaption><table><tr><td class="code"><pre><span class="line">/**</span><br><span class="line"> * æ¯åˆ†é’Ÿè§¦å‘ä¸€æ¬¡</span><br><span class="line"> */</span><br><span class="line">@Scheduled(cron = &quot;0 0/1 * * * ?&quot;)</span><br><span class="line">public void execEveryDay() &#123;</span><br><span class="line">    checkPlan();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2ã€ä½†æ˜¯éšç€ä¸šåŠ¡å¤æ‚åŒ–ï¼Œä½¿ç”¨æ³¨è§£ç›®å‰æ˜¯æ»¡è¶³ä¸äº†åŠ¨æ€é…ç½®å®šæ—¶ä»»åŠ¡çš„ï¼Œä»¥ä¸‹ä»£ç èƒ½å¤Ÿå®ç°cronè¡¨è¾¾å¼çš„åŠ¨æ€é…ç½®ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼Œåœ¨å¯åŠ¨ç±»æ–°å¢æ³¨è§£@EnableScheduling</p>
<figure class="highlight plaintext"><figcaption><span>language-java</span></figcaption><table><tr><td class="code"><pre><span class="line">@SpringBootApplication</span><br><span class="line">@EnableScheduling</span><br><span class="line">public class testApplication &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        SpringApplication.run(testApplication .class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒæ­¥ï¼Œç¼–å†™å®šæ—¶ä»»åŠ¡ç±»</p>
<figure class="highlight plaintext"><figcaption><span>language-java</span></figcaption><table><tr><td class="code"><pre><span class="line">@Lazy(false)</span><br><span class="line">@Component</span><br><span class="line">@EnableScheduling</span><br><span class="line">@Slf4j</span><br><span class="line">public class OutPutTask implements SchedulingConfigurer &#123;</span><br><span class="line">	// é»˜è®¤çš„cronè¡¨è¾¾å¼</span><br><span class="line">    private String cron = &quot;0 55 23 ? * *&quot;;</span><br><span class="line"></span><br><span class="line">    // å®šæ—¶ä»»åŠ¡çš„æ‰§è¡Œé¡ºåºï¼šç”±ä¸Šè€Œä¸‹æŒ‰é¡ºåºæ‰§è¡Œï¼Œå½“æœåŠ¡å¯åŠ¨æ—¶æˆ–è€…å®šæ—¶ä»»åŠ¡æ—¶é—´åˆ°äº†ï¼Œå…ˆæ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼Œå†è®¾ç½®å®šæ—¶ä»»åŠ¡</span><br><span class="line">    @Override</span><br><span class="line">    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) &#123;</span><br><span class="line">        taskRegistrar.addTriggerTask(() -&gt; &#123;</span><br><span class="line">            // addTriggerTaskè¿™ä¸€ä»£ç å—ç”¨äºå½“å®šæ—¶ä»»åŠ¡åˆ°äº†æˆ–è€…æœåŠ¡å¯åŠ¨æ—¶ï¼Œæ‰§è¡Œçš„ä¸šåŠ¡é€»è¾‘</span><br><span class="line">            try &#123;</span><br><span class="line">                // åˆ†å¸ƒå¼é”ï¼Œé¿å…é«˜å¹¶å‘åŒæ—¶æ‰§è¡Œæ–¹æ³•</span><br><span class="line">                Boolean lockStatus = redisTemplate.opsForValue().setIfAbsent(RedisKeyPrefix.RECORD_OUT_PUT, new Date(), 1, TimeUnit.MINUTES);</span><br><span class="line">                if (lockStatus == null || !lockStatus) &#123;</span><br><span class="line">                    return;</span><br><span class="line">                &#125;</span><br><span class="line">                log.info(&quot;äº§èƒ½è®¡ç®—å®šæ—¶ä»»åŠ¡&#123;&#125;&quot;, new Date());</span><br><span class="line">                // è¿™ä¸ªæ˜¯è‡ªå·±å†™çš„è‡ªå®šä¹‰æ–¹æ³•</span><br><span class="line">                recordOutput();</span><br><span class="line">            &#125; finally &#123;</span><br><span class="line">            	// é‡Šæ”¾é”</span><br><span class="line">                redisTemplate.delete(RedisKeyPrefix.RECORD_OUT_PUT);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, triggerContext -&gt; &#123;</span><br><span class="line">            // æ­¤ä»£ç å—ç”¨äºåŠ¨æ€æ‹¿åˆ°cronè¡¨è¾¾å¼å¹¶è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œå½“å®šæ—¶ä»»åŠ¡æ—¶é—´åˆ°äº†ï¼Œå°±ä¼šé‡æ–°è·å–cronè¡¨è¾¾å¼ï¼Œé‡æ–°è®¾ç½®å®šæ—¶ä»»åŠ¡</span><br><span class="line">            cron = this.getCronString();</span><br><span class="line">            CronTrigger trigger;</span><br><span class="line">            try &#123;</span><br><span class="line">            	// ä¸€æ—¦è®¾ç½®ï¼Œç«‹å³ç”Ÿæ•ˆ</span><br><span class="line">                trigger = new CronTrigger(cron);</span><br><span class="line">                return trigger.nextExecutionTime(triggerContext);</span><br><span class="line">            &#125; catch (Exception e) &#123;</span><br><span class="line">                // å¦‚æœæ ¼å¼æœ‰é—®é¢˜å°±æŒ‰é»˜è®¤æ—¶é—´ï¼ˆæ—¶é—´ä¸ºæ¯å¤©23ç‚¹55åˆ†ï¼‰</span><br><span class="line">                trigger = new CronTrigger(&quot;0 55 23 ? * *&quot;);</span><br><span class="line">                return trigger.nextExecutionTime(triggerContext);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * æ‹¿åˆ°cronè¡¨è¾¾å¼</span><br><span class="line">     */</span><br><span class="line">    private String getCronString() &#123;</span><br><span class="line">        // è·å–æ—¶é—´ï¼ˆå½“å‰æ–¹æ³•è¿”å›çš„æ—¶é—´æ ¼å¼ä¸ºyyyy-MM-dd HH:mm:ssï¼‰</span><br><span class="line">        Date beginDate = dictService.getDayOutputBeginTime(new Date());</span><br><span class="line">        // æˆªå–åˆ†é’Ÿå’Œå°æ—¶</span><br><span class="line">        String hour = beginDate.toString().substring(11, 13);</span><br><span class="line">        String min = beginDate.toString().substring(14, 16);</span><br><span class="line">        // æ›¿æ¢min,hour</span><br><span class="line">        String cron = &quot;0 min hour ? * *&quot;;</span><br><span class="line">        return cron.replaceAll(&quot;min&quot;, min).replaceAll(&quot;hour&quot;, hour);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬åªéœ€è¦åœ¨é¡µé¢ä¸Šæä¾›ä¸€ä¸ªèƒ½å¤Ÿè®©ç”¨æˆ·é…ç½®å®šæ—¶ä»»åŠ¡çš„å…¥å£æˆ–è€…åœ¨æ•°æ®åº“é‡Œé…ç½®cronè¡¨è¾¾å¼ï¼Œå°±èƒ½å®ç°åŠ¨æ€é…ç½®ã€‚<br>å¦‚æœé¢å‘çš„ç”¨æˆ·æ‡‚å¾—cronè¡¨è¾¾å¼ï¼Œä¹Ÿå¯ä»¥ç›´æ¥è®©ç”¨æˆ·é…ç½®cronè¡¨è¾¾å¼ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œçœçš„ç¨‹åºå‘˜è¿›è¡Œé¢å¤–çš„æ•°æ®å¤„ç†ï¼Œåªè¦é…ç½®æ­£ç¡®ï¼Œä»»ä½•å¤„ç†æ–¹å¼éƒ½è¡Œï¼Œä¾‹å¦‚ï¼š  </p>
<p>ç‚¹å‡»ç¡®å®šåï¼Œä¼šæ›´æ–°æ•°æ®åº“ï¼Œ<strong>å½“å®šæ—¶ä»»åŠ¡æ—¶é—´åˆ°äº†ï¼Œå°±ä¼šè§¦å‘å®šæ—¶ä»»åŠ¡æœºåˆ¶ï¼Œé‡æ–°è®¾ç½®å®šæ—¶ä»»åŠ¡</strong>ã€‚</p>
]]></content>
      <categories>
        <category>corn</category>
      </categories>
      <tags>
        <tag>åŠ¨æ€é…ç½®</tag>
      </tags>
  </entry>
  <entry>
    <title>ideaå¸¸ç”¨æ’ä»¶</title>
    <url>/2023/06/04/idea%E5%B8%B8%E7%94%A8%E6%8F%92%E4%BB%B6/</url>
    <content><![CDATA[<hr>
<br />

<p>å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯shineğŸŒŸï¼Œæœ¬ç¯‡å°†è¯¦ç»†ä»‹ç»IDEAå¿«æ·é”®åŠæ’ä»¶ï¼Œè®©ä½ å­¦ä¹ å’Œå¼€å‘äº‹åŠåŠŸå€ã€‚IDEAçš„ç‰›é€¼ï¼Œä¼—æ‰€çš†çŸ¥ï¼Œä¸è®ºæ˜¯ç”¨æ¥å­¦ä¹ è¿˜æ˜¯å¼€å‘éƒ½æ˜¯é¦–é€‰çš„IDEï¼Œæ‹‰çˆ†å…¶ä»–å¼€å‘å·¥å…·ï¼Œè®©ä½ çˆ±ä¸Šä»£ç ã€‚å¾ˆå¤šéšè—çš„åŠŸèƒ½ç­‰å¾…ç€ä½ å»å‘ç°ğŸ”ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/e2280ec0e5904537909571e9c022c863.png?x-oss-,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA6ICAIOaYnw==,size_20,color_FFFFFF,t_70,g_se,x_16"></p>
<p>ğŸŒ¾å¿«æ·é”®ï¼ˆæé«˜ç å­—é€Ÿåº¦ï¼‰ </p>
]]></content>
      <categories>
        <category>idea</category>
      </categories>
      <tags>
        <tag>idea</tag>
        <tag>æ’ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title>javaç”ŸæˆäºŒç»´ç </title>
    <url>/2023/06/04/java%E7%94%9F%E6%88%90%E4%BA%8C%E7%BB%B4%E7%A0%81/</url>
    <content><![CDATA[<p>ä¸€ã€ä»‹ç»ï¼šç”ŸæˆäºŒç»´ç æœ‰å¾ˆå¤šç§æ–¹æ³•ï¼Œæ¯”å¦‚å¾®ä¿¡å…¬ä¼—å·çš„ç”ŸæˆäºŒç»´ç ï¼Œä½†æ˜¯è¿™ä¸ªäºŒç»´ç åªèƒ½ç”¨å¾®ä¿¡æ‰«æä¸”ä¼šï¼ˆå¯ä»¥å¸¦å‚æ•°ï¼‰è‡ªåŠ¨è·³è½¬åˆ°å¾®ä¿¡çš„å…¬ä¼—å·é¡µé¢ï¼Œä¸æ”¯æŒè·³è½¬åˆ°å…¶ä»–ç½‘é¡µã€‚è¿™é‡Œè¯´çš„äºŒç»´ç æ˜¯æ‰«æï¼ˆå¾®ä¿¡ã€QQã€æµè§ˆå™¨ç­‰æ‰«æï¼‰å¯ä»¥è·³è½¬åˆ°æŒ‡å®šç½‘å€çš„äºŒç»´ç ã€‚äºŒç»´ç æœ€æ—©æ˜¯ç”±æ—¥æœ¬ä¸€å®¶å…¬å¸å¼€å‘çš„ï¼Œå¹¶ä¸”è¯¥äºŒç»´ç ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼šä¸€ç§æ˜¯QRCode æ’ä»¶äº§ç”Ÿäºæ—¥æœ¬ ï¼›å¦ä¸€ç§æ˜¯ZXing æ’ä»¶ç”±è°·æ­Œå¼€å‘çš„ã€‚</p>
<p>äºŒã€ZXingæ’ä»¶å¼€å‘ï¼š</p>
<p>1ã€å¼•å…¥ä¾èµ–</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!-- ç”ŸæˆäºŒç»´ç ï¼Œspring boot çš„mavené¡¹ç›® å¯¼å…¥å“åº”jaråŒ… --&gt;</span><br><span class="line">		&lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;core&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;<span class="number">3.1</span><span class="number">.0</span>&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;javase&lt;/artifactId&gt;</span><br><span class="line">            &lt;version&gt;<span class="number">3.1</span><span class="number">.0</span>&lt;/version&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2ã€ç”Ÿæˆçš„ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.demo.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.awt.image.BufferedImage;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Hashtable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.imageio.ImageIO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.google.zxing.BarcodeFormat;</span><br><span class="line"><span class="keyword">import</span> com.google.zxing.EncodeHintType;</span><br><span class="line"><span class="keyword">import</span> com.google.zxing.MultiFormatWriter;</span><br><span class="line"><span class="keyword">import</span> com.google.zxing.WriterException;</span><br><span class="line"><span class="keyword">import</span> com.google.zxing.common.BitMatrix;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * éœ€æ±‚è¯´æ˜ï¼šå–å®¶åœ¨ä¸€ä¸ªå®ä½“äº§å“ä¸Šè´´ä¸€ä¸ªäºŒç»´ç ï¼Œä¹°å®¶æ”¶è´§åï¼Œå¾®ä¿¡æ‰«ç è·å–äº§å“çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * å®ç°è¯´æ˜ï¼šå–å®¶åœ¨å‡ºè´§å‰ï¼ŒæŠŠæœåŠ¡å™¨ä¸Šçš„äº§å“è¯¦æƒ…é¡µçš„é“¾æ¥åœ°å€ï¼ˆå«æœ‰IDï¼‰ç”ŸæˆäºŒç»´ç ï¼Œä¹°å®¶æ”¶è´§åå¾®ä¿¡æ‰«ç ï¼Œè·³è½¬åˆ°äº§å“ä¿¡æ¯é¡µå³å¯æŸ¥çœ‹</span></span><br><span class="line"><span class="comment"> * éœ€è¦jar:zxing-code-2.3.jar,ä¸‹è½½åœ°å€http://download.csdn.net/download/sanfye/8704583</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> åŠ å†…ç‰¹</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">BLACK</span> <span class="operator">=</span> <span class="number">0xFF000000</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">WHITE</span> <span class="operator">=</span> <span class="number">0xFFFFFFFF</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> generateCode(<span class="string">&quot;518&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æˆåŠŸç”ŸæˆäºŒç»´ç &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (WriterException | IOException e) &#123;</span><br><span class="line">            System.err.println(<span class="string">&quot;ç”ŸæˆäºŒç»´ç å¤±è´¥&quot;</span>);</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">generateCode</span><span class="params">(String productId)</span> <span class="keyword">throws</span> WriterException, IOException &#123;</span><br><span class="line">        <span class="comment">// è¿™é‡Œæ˜¯URLï¼Œæ‰«æä¹‹åå°±è·³è½¬åˆ°è¿™ä¸ªç•Œé¢</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">text</span> <span class="operator">=</span> <span class="string">&quot;https://www.baidu.com/?uudi=&quot;</span> + productId;</span><br><span class="line">        <span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> <span class="string">&quot;E:/&quot;</span>; <span class="comment">// å›¾ç‰‡ç”Ÿæˆçš„ä½ç½®</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">width</span> <span class="operator">=</span> <span class="number">400</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">height</span> <span class="operator">=</span> <span class="number">400</span>;</span><br><span class="line">        <span class="comment">// äºŒç»´ç å›¾ç‰‡æ ¼å¼</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">format</span> <span class="operator">=</span> <span class="string">&quot;jpg&quot;</span>;</span><br><span class="line">        <span class="comment">// è®¾ç½®ç¼–ç ï¼Œé˜²æ­¢ä¸­æ–‡ä¹±ç </span></span><br><span class="line">        Hashtable&lt;EncodeHintType, Object&gt; ht = <span class="keyword">new</span> <span class="title class_">Hashtable</span>&lt;EncodeHintType, Object&gt;();</span><br><span class="line">        ht.put(EncodeHintType.CHARACTER_SET, <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">// è®¾ç½®äºŒç»´ç å‚æ•°(ç¼–ç å†…å®¹ï¼Œç¼–ç ç±»å‹ï¼Œå›¾ç‰‡å®½åº¦ï¼Œå›¾ç‰‡é«˜åº¦,æ ¼å¼)</span></span><br><span class="line">        <span class="type">BitMatrix</span> <span class="variable">bitMatrix</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MultiFormatWriter</span>().encode(text, BarcodeFormat.QR_CODE, width, height, ht);</span><br><span class="line">        <span class="comment">// ç”ŸæˆäºŒç»´ç (å®šä¹‰äºŒç»´ç è¾“å‡ºæœåŠ¡å™¨è·¯å¾„)</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">outputFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(path);</span><br><span class="line">        <span class="keyword">if</span> (!outputFile.exists()) &#123;</span><br><span class="line">            <span class="comment">// åˆ›å»ºæ–‡ä»¶å¤¹</span></span><br><span class="line">            outputFile.mkdir();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">b_width</span> <span class="operator">=</span> bitMatrix.getWidth();</span><br><span class="line">        <span class="type">int</span> <span class="variable">b_height</span> <span class="operator">=</span> bitMatrix.getHeight();</span><br><span class="line">        <span class="comment">// å»ºç«‹å›¾åƒç¼“å†²å™¨</span></span><br><span class="line">        <span class="type">BufferedImage</span> <span class="variable">image</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedImage</span>(b_width, b_height, BufferedImage.TYPE_3BYTE_BGR);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">0</span>; x &lt; b_width; x++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">0</span>; y &lt; b_height; y++) &#123;</span><br><span class="line">                image.setRGB(x, y, bitMatrix.get(x, y) ? BLACK : WHITE);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// ç”ŸæˆäºŒç»´ç </span></span><br><span class="line">        ImageIO.write(image, format, <span class="keyword">new</span> <span class="title class_">File</span>(path + <span class="string">&quot;/code.&quot;</span> + format));</span><br><span class="line">        <span class="comment">// äºŒç»´ç çš„åç§°</span></span><br><span class="line">        <span class="comment">// code.jpg</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3ã€ç”Ÿæˆçš„äºŒç»´ç å›¾ç‰‡ï¼š</p>
<p><img src="https://img-blog.csdnimg.cn/20210304164500997.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dfdF95X3k=,size_16,color_FFFFFF,t_70"></p>
]]></content>
      <categories>
        <category>äºŒç»´ç </category>
      </categories>
      <tags>
        <tag>äºŒç»´ç </tag>
        <tag>QRcode</tag>
      </tags>
  </entry>
  <entry>
    <title>mybatis-plusè¿è¡¨æŸ¥è¯¢</title>
    <url>/2023/06/04/mybatis-plus%E8%BF%9E%E8%A1%A8%E6%9F%A5%E8%AF%A2/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>mybatis</category>
      </categories>
      <tags>
        <tag>mybatis</tag>
        <tag>sql</tag>
      </tags>
  </entry>
  <entry>
    <title>å¼€å‘å°ç¬”è®°(æŒç»­æ›´æ–°)</title>
    <url>/2023/06/05/%E5%BC%80%E5%8F%91%E5%B0%8F%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<br>

<p>æŒç»­æ›´æ–°ä¸­â€¦â€¦</p>
]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>ç¬”è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>æœåŠ¡å ç”¨cpuè¿‡é«˜æ’æŸ¥</title>
    <url>/2023/06/04/%E6%9C%8D%E5%8A%A1%E5%8D%A0%E7%94%A8cpu%E8%BF%87%E9%AB%98%E6%8E%92%E6%9F%A5/</url>
    <content><![CDATA[<blockquote>
<p><strong>å…ˆç”¨topå‘½ä»¤æ‰¾å‡ºCPUå æ¯”æœ€é«˜çš„</strong></p>
</blockquote>
<figure class="highlight plaintext"><figcaption><span>language-powershell</span></figcaption><table><tr><td class="code"><pre><span class="line">top</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20201230214810341.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI4ODM0MzU1,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>CPUå ç”¨æœ€é«˜çš„æ˜¯javaè¿›ç¨‹ï¼Œå®ƒçš„ <code>è¿›ç¨‹IDï¼š3362</code></p>
<blockquote>
<p><strong>ps -ef æˆ–è€… jps è¿›ä¸€æ­¥å®šä½ï¼Œå¾—çŸ¥æ˜¯æ€æ ·çš„ç¨‹åº</strong></p>
</blockquote>
<figure class="highlight plaintext"><figcaption><span>language-powershell</span></figcaption><table><tr><td class="code"><pre><span class="line">[root@192 ~] ps -ef | grep 3362 | grep -v grep</span><br><span class="line">root       3362   2340 42 21:47 pts/0    00:02:30 java HelloWorldApp</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>å®šä½åˆ°å…·ä½“çš„çº¿ç¨‹æˆ–è€…ä»£ç </strong></p>
</blockquote>
<figure class="highlight plaintext"><figcaption><span>language-powershell</span></figcaption><table><tr><td class="code"><pre><span class="line">ps -mp 3362 -o THREAD,tid,time</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20201230220404953.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI4ODM0MzU1,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<p>å¦‚å›¾æ‰€ç¤ºï¼Œå¼•èµ·CPUè¿‡é«˜çš„ <code>çº¿ç¨‹IDï¼š3363</code></p>
<blockquote>
<p><strong>å°†çº¿ç¨‹IDè½¬æ¢ä¸º16è¿›åˆ¶æ ¼å¼ï¼ˆè‹±æ–‡å°å†™ï¼‰</strong></p>
</blockquote>
<p>3365 è½¬æ¢ä¸º16è¿›åˆ¶ç»“æœï¼šd23<br><img src="https://img-blog.csdnimg.cn/20201230220804137.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI4ODM0MzU1,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>
<blockquote>
<p>jstack</p>
</blockquote>
<p>æ ¼å¼ï¼šjstack è¿›ç¨‹ID | grep tidï¼ˆ16è¿›åˆ¶å°å†™ï¼‰ -A60</p>
<figure class="highlight plaintext"><figcaption><span>language-powershell</span></figcaption><table><tr><td class="code"><pre><span class="line">jstack 3362 | grep d23 -A60</span><br></pre></td></tr></table></figure>

<p><img src="https://img-blog.csdnimg.cn/20201230221316830.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI4ODM0MzU1,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¿™æ ·ï¼Œå°±èƒ½æ‰¾å‡ºå…·ä½“çš„å¼‚å¸¸ä»£ç ä½ç½®</p>
]]></content>
      <categories>
        <category>æ€§èƒ½æå‡</category>
      </categories>
      <tags>
        <tag>cpué£™é«˜</tag>
      </tags>
  </entry>
  <entry>
    <title>è·å–å®¢æˆ·ç«¯çœŸå®ip</title>
    <url>/2023/06/04/%E8%8E%B7%E5%8F%96%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9C%9F%E5%AE%9Eip/</url>
    <content><![CDATA[<p>ç°åœ¨éƒ½æµè¡Œæ˜¾ç¤º ip å½’å±åœ°ï¼Œé‚£ä¹ˆæˆ‘å…ˆæ¥è·å–å®¢æˆ·ç«¯çš„çœŸå® ip åœ°å€ä»¥åŠ mac åœ°å€ï¼Œä¸Šä»£ç </p>
<figure class="highlight plaintext"><figcaption><span>language-java</span></figcaption><table><tr><td class="code"><pre><span class="line">import javax.servlet.http.HttpServletRequest;</span><br><span class="line">import java.net.InetAddress;</span><br><span class="line">import java.net.NetworkInterface;</span><br><span class="line">import java.net.UnknownHostException;</span><br><span class="line">/**</span><br><span class="line"> * å¸¸ç”¨è·å–å®¢æˆ·ç«¯ä¿¡æ¯çš„å·¥å…·</span><br><span class="line"> */</span><br><span class="line">public class NetworkUtil &#123;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * è·å–ipåœ°å€</span><br><span class="line">     */</span><br><span class="line">    public static String getIpAddress(HttpServletRequest request) &#123;</span><br><span class="line">        String ip = request.getHeader(&quot;x-forwarded-for&quot;);</span><br><span class="line">        if (ip == null || ip.length() == 0 || &quot;unknown&quot;.equalsIgnoreCase(ip)) &#123;</span><br><span class="line">            ip = request.getHeader(&quot;Proxy-Client-IP&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        if (ip == null || ip.length() == 0 || &quot;unknown&quot;.equalsIgnoreCase(ip)) &#123;</span><br><span class="line">            ip = request.getHeader(&quot;WL-Proxy-Client-IP&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        if (ip == null || ip.length() == 0 || &quot;unknown&quot;.equalsIgnoreCase(ip)) &#123;</span><br><span class="line">            ip = request.getHeader(&quot;HTTP_CLIENT_IP&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        if (ip == null || ip.length() == 0 || &quot;unknown&quot;.equalsIgnoreCase(ip)) &#123;</span><br><span class="line">            ip = request.getHeader(&quot;HTTP_X_FORWARDED_FOR&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        if (ip == null || ip.length() == 0 || &quot;unknown&quot;.equalsIgnoreCase(ip)) &#123;</span><br><span class="line">            ip = request.getRemoteAddr();</span><br><span class="line">        &#125;</span><br><span class="line">        // æœ¬æœºè®¿é—®</span><br><span class="line">        if (&quot;localhost&quot;.equalsIgnoreCase(ip) || &quot;127.0.0.1&quot;.equalsIgnoreCase(ip) || &quot;0:0:0:0:0:0:0:1&quot;.equalsIgnoreCase(ip))&#123;</span><br><span class="line">            // æ ¹æ®ç½‘å¡å–æœ¬æœºé…ç½®çš„IP</span><br><span class="line">            InetAddress inet;</span><br><span class="line">            try &#123;</span><br><span class="line">                inet = InetAddress.getLocalHost();</span><br><span class="line">                ip = inet.getHostAddress();</span><br><span class="line">            &#125; catch (UnknownHostException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        // å¯¹äºé€šè¿‡å¤šä¸ªä»£ç†çš„æƒ…å†µï¼Œç¬¬ä¸€ä¸ªIPä¸ºå®¢æˆ·ç«¯çœŸå®IP,å¤šä¸ªIPæŒ‰ç…§&#x27;,&#x27;åˆ†å‰²</span><br><span class="line">        if (null != ip &amp;&amp; ip.length() &gt; 15) &#123;</span><br><span class="line">            if (ip.indexOf(&quot;,&quot;) &gt; 15) &#123;</span><br><span class="line">                ip = ip.substring(0, ip.indexOf(&quot;,&quot;));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return ip;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * è·å–macåœ°å€</span><br><span class="line">     */</span><br><span class="line">    public static String getMacAddress() throws Exception &#123;</span><br><span class="line">        // å–macåœ°å€</span><br><span class="line">        byte[] macAddressBytes = NetworkInterface.getByInetAddress(InetAddress.getLocalHost()).getHardwareAddress();</span><br><span class="line">        // ä¸‹é¢ä»£ç æ˜¯æŠŠmacåœ°å€æ‹¼è£…æˆString</span><br><span class="line">        StringBuilder sb = new StringBuilder();</span><br><span class="line">        for (int i = 0; i &lt; macAddressBytes.length; i++) &#123;</span><br><span class="line">            if (i != 0) &#123;</span><br><span class="line">                sb.append(&quot;-&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            // mac[i] &amp; 0xFF æ˜¯ä¸ºäº†æŠŠbyteè½¬åŒ–ä¸ºæ­£æ•´æ•°</span><br><span class="line">            String s = Integer.toHexString(macAddressBytes[i] &amp; 0xFF);</span><br><span class="line">            sb.append(s.length() == 1 ? 0 + s : s);</span><br><span class="line">        &#125;</span><br><span class="line">        return sb.toString().trim().toUpperCase();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¥½äº†ï¼Œip è·å–åˆ°äº†è‡³äºæŸ¥è¯¢ ip å½’å±åœ°å˜›<br><a href="https://github.com/lionsoul2014/ip2region">Ip2region</a></p>
]]></content>
      <categories>
        <category>IPåœ°å€</category>
      </categories>
      <tags>
        <tag>ipåœ°å€</tag>
        <tag>macåœ°å€</tag>
      </tags>
  </entry>
  <entry>
    <title>markdownå¸¸ç”¨è¯­æ³•</title>
    <url>/2023/06/04/Markdown%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95/</url>
    <content><![CDATA[<p>ç›®å½•</p>
<br />

<ul>
<li><ul>
<li><a href="#1-%E5%BF%AB%E6%8D%B7%E9%94%AE">1. å¿«æ·é”®</a></li>
<li><a href="#2-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">2. åŸºæœ¬è¯­æ³•</a><ul>
<li><a href="#21-%E5%AD%97%E4%BD%93%E8%AE%BE%E7%BD%AE%E6%96%9C%E4%BD%93%E7%B2%97%E4%BD%93%E5%88%A0%E9%99%A4%E7%BA%BF">2.1 å­—ä½“è®¾ç½®æ–œä½“ã€ç²—ä½“ã€åˆ é™¤çº¿</a></li>
<li><a href="#22-%E5%88%86%E7%BA%A7%E6%A0%87%E9%A2%98">2.2 åˆ†çº§æ ‡é¢˜</a></li>
<li><a href="#23-%E9%93%BE%E6%8E%A5">2.3 é“¾æ¥</a></li>
<li><a href="#24-%E5%88%86%E5%89%B2%E7%BA%BF">2.4 åˆ†å‰²çº¿</a></li>
<li><a href="#25-%E4%BB%A3%E7%A0%81%E5%9D%97">2.5 ä»£ç å—</a></li>
<li><a href="#26-%E5%BC%95%E7%94%A8">2.6 å¼•ç”¨</a></li>
<li><a href="#27-%E5%88%97%E8%A1%A8">2.7 åˆ—è¡¨</a></li>
<li><a href="#28-%E8%A1%A8%E6%A0%BC">2.8 è¡¨æ ¼</a></li>
</ul>
</li>
<li><a href="#3-%E5%B8%B8%E7%94%A8%E6%8A%80%E5%B7%A7">3. å¸¸ç”¨æŠ€å·§</a><ul>
<li><a href="#31-%E6%8D%A2%E8%A1%8C">3.1 æ¢è¡Œ</a></li>
<li><a href="#32-%E7%BC%A9%E8%BF%9B%E5%AD%97%E7%AC%A6">3.2 ç¼©è¿›å­—ç¬¦</a></li>
<li><a href="#33-%E7%89%B9%E6%AE%8A%E7%AC%A6%E5%8F%B7">3.3 ç‰¹æ®Šç¬¦å·</a></li>
<li><a href="#34-%E5%AD%97%E4%BD%93%E5%AD%97%E5%8F%B7%E4%B8%8E%E9%A2%9C%E8%89%B2">3.4 å­—ä½“ã€å­—å·ä¸é¢œè‰²</a></li>
<li><a href="#35-%E9%93%BE%E6%8E%A5%E7%9A%84%E9%AB%98%E7%BA%A7%E6%93%8D%E4%BD%9C">3.5 é“¾æ¥çš„é«˜çº§æ“ä½œ</a><ul>
<li><a href="#1%E8%A1%8C%E5%86%85%E5%BC%8F">1.è¡Œå†…å¼</a></li>
<li><a href="#2%E5%8F%82%E8%80%83%E5%BC%8F%E9%93%BE%E6%8E%A5">2.å‚è€ƒå¼é“¾æ¥</a></li>
<li><a href="#3%E5%86%85%E5%AE%B9%E7%9B%AE%E5%BD%95">3.å†…å®¹ç›®å½•</a></li>
<li><a href="#4%E9%94%9A%E7%82%B9">4.é”šç‚¹</a></li>
<li><a href="#5%E6%B3%A8%E8%84%9A">5.æ³¨è„š</a></li>
</ul>
</li>
<li><a href="#36-%E8%83%8C%E6%99%AF%E8%89%B2">3.6 èƒŒæ™¯è‰²</a></li>
<li><a href="#37-emoji%E8%A1%A8%E6%83%85%E7%AC%A6%E5%8F%B7">3.7 emojiè¡¨æƒ…ç¬¦å·</a></li>
</ul>
</li>
<li><a href="#4-%E9%AB%98%E7%AB%AF%E7%94%A8%E6%B3%95">4. é«˜ç«¯ç”¨æ³•</a><ul>
<li><a href="#41-latex%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F">4.1 Latexæ•°å­¦å…¬å¼</a></li>
<li><a href="#42-%E6%B5%81%E7%A8%8B%E5%9B%BE">4.2 æµç¨‹å›¾</a></li>
<li><a href="#43-%E5%88%B6%E4%BD%9C%E4%B8%80%E4%BB%BD%E5%BE%85%E5%8A%9E%E4%BA%8B%E5%AE%9C-todo-%E5%88%97%E8%A1%A8">4.3 åˆ¶ä½œä¸€ä»½å¾…åŠäº‹å®œâ€”-Todo åˆ—è¡¨</a></li>
<li><a href="#44-%E7%BB%98%E5%88%B6-%E5%BA%8F%E5%88%97%E5%9B%BE">4.4 ç»˜åˆ¶ åºåˆ—å›¾</a></li>
<li><a href="#45-%E7%BB%98%E5%88%B6-%E7%94%98%E7%89%B9%E5%9B%BE">4.5 ç»˜åˆ¶ ç”˜ç‰¹å›¾</a></li>
</ul>
</li>
<li><a href="#5-markdown%E5%B7%A5%E5%85%B7">5. Markdownå·¥å…·</a></li>
</ul>
</li>
</ul>
<br />

<p><strong>å‰è¨€</strong><br>å†™è¿‡åšå®¢æˆ–è€…githubä¸Šé¢çš„æ–‡æ¡£çš„ï¼Œåº”è¯¥çŸ¥é“Markdownè¯­æ³•çš„é‡è¦æ€§ï¼Œä¸çŸ¥é“çš„æœ‹å‹ä»¬ä¹Ÿåˆ«ç€æ€¥ï¼Œä¸€ç¯‡åšå®¢è½»æ¾æå®šMarkdownè¯­æ³•ã€‚è¯è¯´è¿™ä¸ªè¯­æ³•è¶…çº§ç®€å•ï¼Œä¸€çœ‹å°±ä¼šï¼Œä¸ä¿¡ä½ ç‚¹è¿›æ¥çœ‹çœ‹ã€‚</p>
<ol>
<li>å¿«æ·é”®</li>
</ol>
]]></content>
      <categories>
        <category>markdown</category>
      </categories>
      <tags>
        <tag>markdown</tag>
        <tag>è¯­æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>dockeråäº”é—®</title>
    <url>/2023/06/04/docker%E5%8D%81%E4%BA%94%E9%97%AE/</url>
    <content><![CDATA[<br />

]]></content>
      <categories>
        <category>docker</category>
      </categories>
      <tags>
        <tag>è¿ç»´</tag>
        <tag>docker</tag>
        <tag>å®¹å™¨</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaä¸­ä»£ç ä¼˜åŒ–çš„30ä¸ªå°æŠ€å·§</title>
    <url>/2023/05/28/java%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<br />

<h2 id="1-ç”¨String-formatæ‹¼æ¥å­—ç¬¦ä¸²"><a href="#1-ç”¨String-formatæ‹¼æ¥å­—ç¬¦ä¸²" class="headerlink" title="1.ç”¨String.formatæ‹¼æ¥å­—ç¬¦ä¸² "></a>1.ç”¨String.formatæ‹¼æ¥å­—ç¬¦ä¸² </h2><p><em><strong>String.format</strong></em>æ–¹æ³•æ‹¼æ¥urlè¯·æ±‚å‚æ•°ï¼Œæ—¥å¿—æ‰“å°ç­‰å­—ç¬¦ä¸²ã€‚</p>
<p>ä½†ä¸å»ºè®®åœ¨forå¾ªç¯ä¸­ç”¨å®ƒæ‹¼æ¥å­—ç¬¦ä¸²ï¼Œå› ä¸ºå®ƒçš„æ‰§è¡Œæ•ˆç‡ï¼Œæ¯”ä½¿ç”¨+å·æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œæˆ–è€…ä½¿ç”¨StringBuilderæ‹¼æ¥å­—ç¬¦ä¸²éƒ½è¦æ…¢ä¸€äº›ã€‚</p>
<h2 id="2-åˆ›å»ºå¯ç¼“å†²çš„IOæµ"><a href="#2-åˆ›å»ºå¯ç¼“å†²çš„IOæµ" class="headerlink" title="2.åˆ›å»ºå¯ç¼“å†²çš„IOæµ"></a>2.åˆ›å»ºå¯ç¼“å†²çš„IOæµ</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å°½é‡ä½¿ç”¨try-with-resourcesè¯­å¥ï¼Œå¯ä»¥åœ¨ç¨‹åºç»“æŸæ—¶è‡ªåŠ¨å…³é—­èµ„æº</span></span><br><span class="line"><span class="keyword">try</span> (<span class="type">ServletOutputStream</span> <span class="variable">outStr</span> <span class="operator">=</span> response.getOutputStream();</span><br><span class="line">     <span class="type">BufferedOutputStream</span> <span class="variable">buff</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(outStr))&#123;</span><br><span class="line">    buff.write(text.getBytes(<span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line">    buff.flush();</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    log.error(<span class="string">&quot;å¯¼å‡ºæ–‡ä»¶æ–‡ä»¶å‡ºé”™:&#123;&#125;&quot;</span>,e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ç¼“å†²æµ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">srcFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;/Users/Documents/test1/1.txt&quot;</span>);</span><br><span class="line"><span class="type">File</span> <span class="variable">destFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;/Users/Documents/test1/2.txt&quot;</span>);</span><br><span class="line"><span class="keyword">try</span>(<span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(srcFile);</span><br><span class="line">    <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(destFile);</span><br><span class="line"><span class="type">BufferedInputStream</span> <span class="variable">bis</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(fis);</span><br><span class="line"><span class="type">BufferedOutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(fos)) &#123;</span><br><span class="line">    <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">    <span class="type">int</span> len;</span><br><span class="line">    <span class="keyword">while</span> ((len = bis.read(buffer)) != -<span class="number">1</span>) &#123;</span><br><span class="line">        bos.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">    &#125;</span><br><span class="line">    bos.flush();</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h2 id="3-å‡å°‘å¾ªç¯æ¬¡æ•°"><a href="#3-å‡å°‘å¾ªç¯æ¬¡æ•°" class="headerlink" title="3.å‡å°‘å¾ªç¯æ¬¡æ•°"></a>3.å‡å°‘å¾ªç¯æ¬¡æ•°</h2><p>å¦‚æœå¾ªç¯å±‚çº§æ¯”è¾ƒæ·±ï¼Œå¾ªç¯ä¸­å¥—å¾ªç¯ï¼Œå¯èƒ½ä¼šå½±å“ä»£ç çš„æ‰§è¡Œæ•ˆç‡ã€‚</p>
<p>å¦‚æœæœ‰ä¸¤å±‚å¾ªç¯ï¼Œå¦‚æœuserListå’ŒroleListæ•°æ®æ¯”è¾ƒå¤šçš„è¯ï¼Œéœ€è¦å¾ªç¯éå†å¾ˆå¤šæ¬¡ï¼Œæ‰èƒ½è·å–æˆ‘ä»¬æ‰€éœ€è¦çš„æ•°æ®ï¼Œéå¸¸æ¶ˆè€—cpuèµ„æºã€‚</p>
<p>å¦‚ä¸‹ä»£ç æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ­£å¸¸é€»è¾‘2å±‚forå¾ªç¯å¤„ç†</span></span><br><span class="line"><span class="keyword">for</span>(User user: userList) &#123;</span><br><span class="line">   <span class="keyword">for</span>(Role role: roleList) &#123;</span><br><span class="line">      <span class="keyword">if</span>(user.getRoleId().equals(role.getId())) &#123;</span><br><span class="line">         user.setRoleName(role.getName());</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¼˜åŒ–åçš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Map&lt;Long, List&lt;Role&gt;&gt; roleMap = roleList.stream().collect(Collectors.groupingBy(Role::getId));</span><br><span class="line"><span class="keyword">for</span> (User user : userList) &#123;</span><br><span class="line">    List&lt;Role&gt; roles = roleMap.get(user.getRoleId());</span><br><span class="line">    <span class="keyword">if</span>(CollectionUtils.isNotEmpty(roles)) &#123;</span><br><span class="line">        user.setRoleName(roles.get(<span class="number">0</span>).getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¼˜åŒ–æ€æƒ³å°±æ˜¯å‡å°‘å¾ªç¯æ¬¡æ•°ï¼Œæœ€ç®€å•çš„åŠæ³•æ˜¯ï¼ŒæŠŠç¬¬äºŒå±‚å¾ªç¯çš„é›†åˆå˜æˆ<em><strong>map</strong></em>ï¼Œè¿™æ ·å¯ä»¥ç›´æ¥é€šè¿‡<em><strong>key</strong></em>ï¼Œè·å–æƒ³è¦çš„<em><strong>value</strong></em>æ•°æ®ã€‚</p>
<p>è™½è¯´mapçš„keyå­˜åœ¨<em><strong>hashå†²çª</strong></em>çš„æƒ…å†µï¼Œä½†éå†å­˜æ”¾æ•°æ®çš„<em><strong>é“¾è¡¨</strong></em>æˆ–è€…<em><strong>çº¢é»‘æ ‘</strong></em>çš„<em><strong>æ—¶é—´å¤æ‚åº¦</strong></em>ï¼Œæ¯”éå†æ•´ä¸ªlisté›†åˆè¦å°å¾ˆå¤šã€‚</p>
<h2 id="4-ç”¨å®Œèµ„æºè®°å¾—åŠæ—¶å…³é—­"><a href="#4-ç”¨å®Œèµ„æºè®°å¾—åŠæ—¶å…³é—­" class="headerlink" title="4.ç”¨å®Œèµ„æºè®°å¾—åŠæ—¶å…³é—­"></a>4.ç”¨å®Œèµ„æºè®°å¾—åŠæ—¶å…³é—­</h2><p>å‚è€ƒç¬¬äºŒç‚¹å°½é‡ä½¿ç”¨try-with-resourcesè¯­å¥æˆ–è€…æ‰‹åŠ¨å…³é—­èµ„æº</p>
<h2 id="5-ä½¿ç”¨æ± æŠ€æœ¯"><a href="#5-ä½¿ç”¨æ± æŠ€æœ¯" class="headerlink" title="5.ä½¿ç”¨æ± æŠ€æœ¯"></a>5.ä½¿ç”¨æ± æŠ€æœ¯</h2><p>æ•°æ®åº“è¿æ¥æ± ã€çº¿ç¨‹æ± </p>
<h2 id="6-æ¶ˆé™¤ifâ€¦elseçš„é”¦å›Šå¦™è®¡ï¼Œåå°„æ—¶æ·»åŠ ç¼“å­˜"><a href="#6-æ¶ˆé™¤ifâ€¦elseçš„é”¦å›Šå¦™è®¡ï¼Œåå°„æ—¶æ·»åŠ ç¼“å­˜" class="headerlink" title="6.æ¶ˆé™¤ifâ€¦elseçš„é”¦å›Šå¦™è®¡ï¼Œåå°„æ—¶æ·»åŠ ç¼“å­˜"></a>6.æ¶ˆé™¤ifâ€¦elseçš„é”¦å›Šå¦™è®¡ï¼Œåå°„æ—¶æ·»åŠ ç¼“å­˜</h2><p>æˆ‘ä»¬éƒ½çŸ¥é“é€šè¿‡<em><strong>åå°„</strong></em>åˆ›å»ºå¯¹è±¡å®ä¾‹ï¼Œæ¯”ä½¿ç”¨<em><strong>new</strong></em>å…³é”®å­—è¦æ…¢å¾ˆå¤šã€‚</p>
<p>ç”±æ­¤ï¼Œä¸å¤ªå»ºè®®åœ¨ç”¨æˆ·è¯·æ±‚è¿‡æ¥æ—¶ï¼Œæ¯æ¬¡éƒ½é€šè¿‡åå°„<em><strong>å®æ—¶</strong></em>åˆ›å»ºå®ä¾‹ã€‚</p>
<p>æœ‰æ—¶å€™ï¼Œä¸ºäº†ä»£ç çš„çµæ´»æ€§ï¼Œåˆä¸å¾—ä¸ç”¨åå°„åˆ›å»ºå®ä¾‹ï¼Œè¿™æ—¶è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p>
<p>ç­”ï¼šåŠ <em><strong>ç¼“å­˜</strong></em>ã€‚</p>
<p>å…ˆçœ‹ä»¥ä¸‹ä»£ç </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">publicinterface IPay &#123;  </span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">()</span>;  </span><br><span class="line">&#125;  </span><br><span class="line"> </span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line">publicclass AliaPay <span class="keyword">implements</span> <span class="title class_">IPay</span> &#123;  </span><br><span class="line">     <span class="meta">@Override</span></span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">()</span> &#123;  </span><br><span class="line">        System.out.println(<span class="string">&quot;===å‘èµ·æ”¯ä»˜å®æ”¯ä»˜===&quot;</span>);  </span><br><span class="line">     &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"> </span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line">publicclass WeixinPay <span class="keyword">implements</span> <span class="title class_">IPay</span> &#123;  </span><br><span class="line">     <span class="meta">@Override</span></span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">()</span> &#123;  </span><br><span class="line">         System.out.println(<span class="string">&quot;===å‘èµ·å¾®ä¿¡æ”¯ä»˜===&quot;</span>);  </span><br><span class="line">     &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line">publicclass JingDongPay <span class="keyword">implements</span> <span class="title class_">IPay</span> &#123;  </span><br><span class="line">     <span class="meta">@Override</span></span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">()</span> &#123;  </span><br><span class="line">        System.out.println(<span class="string">&quot;===å‘èµ·äº¬ä¸œæ”¯ä»˜===&quot;</span>);  </span><br><span class="line">     &#125;  </span><br><span class="line">&#125;  </span><br><span class="line"> </span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line">publicclass PayService &#123;  </span><br><span class="line">     <span class="meta">@Autowired</span></span><br><span class="line">     <span class="keyword">private</span> AliaPay aliaPay;  </span><br><span class="line">     <span class="meta">@Autowired</span></span><br><span class="line">     <span class="keyword">private</span> WeixinPay weixinPay;  </span><br><span class="line">     <span class="meta">@Autowired</span></span><br><span class="line">     <span class="keyword">private</span> JingDongPay jingDongPay;  </span><br><span class="line">    </span><br><span class="line">   </span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">toPay</span><span class="params">(String code)</span> &#123;  </span><br><span class="line">         <span class="keyword">if</span> (<span class="string">&quot;alia&quot;</span>.equals(code)) &#123;  </span><br><span class="line">             aliaPay.pay();  </span><br><span class="line">         &#125; elseif (<span class="string">&quot;weixin&quot;</span>.equals(code)) &#123;  </span><br><span class="line">              weixinPay.pay();  </span><br><span class="line">         &#125; elseif (<span class="string">&quot;jingdong&quot;</span>.equals(code)) &#123;  </span><br><span class="line">              jingDongPay.pay();  </span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;  </span><br><span class="line">              System.out.println(<span class="string">&quot;æ‰¾ä¸åˆ°æ”¯ä»˜æ–¹å¼&quot;</span>);  </span><br><span class="line">         &#125;  </span><br><span class="line">     &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œè¿æ³•äº†è®¾è®¡æ¨¡å¼å…­å¤§åŸåˆ™çš„ï¼š<em><strong>å¼€é—­åŸåˆ™</strong></em> å’Œ <em><strong>å•ä¸€èŒè´£åŸåˆ™</strong></em>ã€‚</p>
<p>å¼€é—­åŸåˆ™ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚å°±æ˜¯è¯´å¢åŠ æ–°åŠŸèƒ½è¦å°½é‡å°‘æ”¹åŠ¨å·²æœ‰ä»£ç ã€‚</p>
<p>å•ä¸€èŒè´£åŸåˆ™ï¼šé¡¾åæ€ä¹‰ï¼Œè¦æ±‚é€»è¾‘å°½é‡å•ä¸€ï¼Œä¸è¦å¤ªå¤æ‚ï¼Œä¾¿äºå¤ç”¨ã€‚</p>
<ol>
<li>å…ˆåˆ›å»ºä¸€ä¸ªæ³¨è§£</li>
<li>åœ¨æ‰€æœ‰çš„æ”¯ä»˜ç±»ä¸Šéƒ½åŠ ä¸Šè¯¥æ³¨è§£</li>
<li>å¢åŠ æœ€å…³é”®çš„ç±»PayService2</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span>: Ywh</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span>: 2022/7/25 14:50</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> PayCode &#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span>;</span><br><span class="line">    String <span class="title function_">name</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@PayCode(value = &quot;alia&quot;, name = &quot;æ”¯ä»˜å®æ”¯ä»˜&quot;)</span></span><br><span class="line"><span class="meta">@Component(&quot;alia&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AliaPay</span> <span class="keyword">implements</span> <span class="title class_">IPay</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;===å‘èµ·æ”¯ä»˜å®æ”¯ä»˜===&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@PayCode(value = &quot;jingdong&quot;, name = &quot;äº¬ä¸œæ”¯ä»˜&quot;)</span></span><br><span class="line"><span class="meta">@Component(&quot;jingdong&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JingDongPay</span> <span class="keyword">implements</span> <span class="title class_">IPay</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;===å‘èµ·äº¬ä¸œæ”¯ä»˜===&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@PayCode(value = &quot;weixin&quot;, name = &quot;å¾®ä¿¡æ”¯ä»˜&quot;)</span></span><br><span class="line"><span class="meta">@Component(&quot;weixin&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeixinPay</span> <span class="keyword">implements</span> <span class="title class_">IPay</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;===å‘èµ·å¾®ä¿¡æ”¯ä»˜===&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PayService2</span> <span class="keyword">implements</span> <span class="title class_">ApplicationListener</span>&lt;ContextRefreshedEvent&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, IPay&gt; payMap = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onApplicationEvent</span><span class="params">(ContextRefreshedEvent contextRefreshedEvent)</span> &#123;</span><br><span class="line">        <span class="comment">//åœ¨åˆå§‹åŒ–æˆ–åˆ·æ–°ApplicationContextæ—¶å‘å¸ƒ</span></span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> contextRefreshedEvent.getApplicationContext();</span><br><span class="line">        <span class="comment">//è·å–æ‰€æœ‰æ‹¥æœ‰ç‰¹å®špayCodeæ³¨è§£çš„Beanï¼ˆAliPayã€WeiXinPayã€JindDongPayï¼‰</span></span><br><span class="line">        Map&lt;String, Object&gt; beansWithAnnotation = applicationContext.getBeansWithAnnotation(PayCode.class);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (beansWithAnnotation != <span class="literal">null</span>) &#123;</span><br><span class="line">            payMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">            beansWithAnnotation.forEach((key, value) -&gt; &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">bizType</span> <span class="operator">=</span> value.getClass().getAnnotation(PayCode.class).value();</span><br><span class="line">                payMap.put(bizType, (IPay) value);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">(String code)</span> &#123;</span><br><span class="line">        payMap.get(code).pay();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/pay&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æµ‹è¯•æ”¯ä»˜&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">pay</span><span class="params">(String code)</span>&#123;</span><br><span class="line">        payService2.pay(code);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>PayService2ç±»å®ç°äº†<em><strong>ApplicationListener</strong></em>æ¥å£ï¼Œè¿™æ ·åœ¨<em><strong>onApplicationEvent</strong></em>æ–¹æ³•ä¸­ï¼Œå°±å¯ä»¥æ‹¿åˆ°<em><strong>ApplicationContext</strong></em>çš„å®ä¾‹ã€‚è¿™ä¸€æ­¥ï¼Œå…¶å®æ˜¯åœ¨springå®¹å™¨å¯åŠ¨çš„æ—¶å€™ï¼Œspringé€šè¿‡åå°„æˆ‘ä»¬å¤„ç†å¥½äº†ã€‚</p>
<p>æˆ‘ä»¬å†è·å–æ‰“äº†PayCodeæ³¨è§£çš„ç±»ï¼Œæ”¾åˆ°ä¸€ä¸ª<em><strong>map</strong></em>ä¸­ï¼Œmapä¸­çš„<em><strong>key</strong></em>å°±æ˜¯PayCodeæ³¨è§£ä¸­å®šä¹‰çš„valueï¼Œè·Ÿcodeå‚æ•°ä¸€è‡´ï¼Œ<em><strong>value</strong></em>æ˜¯æ”¯ä»˜ç±»çš„å®ä¾‹ã€‚</p>
<p>è¿™æ ·ï¼Œæ¯æ¬¡å°±å¯ä»¥æ¯æ¬¡ç›´æ¥é€šè¿‡codeè·å–æ”¯ä»˜ç±»å®ä¾‹ï¼Œè€Œä¸ç”¨ifâ€¦elseåˆ¤æ–­äº†ã€‚å¦‚æœè¦åŠ æ–°çš„æ”¯ä»˜æ–¹æ³•ï¼Œåªéœ€åœ¨æ”¯ä»˜ç±»ä¸Šé¢æ‰“ä¸ŠPayCodeæ³¨è§£å®šä¹‰ä¸€ä¸ªæ–°çš„codeå³å¯ã€‚</p>
<p>æ³¨æ„ï¼šè¿™ç§æ–¹å¼çš„codeå¯ä»¥æ²¡æœ‰ä¸šåŠ¡å«ä¹‰ï¼Œå¯ä»¥æ˜¯çº¯æ•°å­—ï¼Œåªè¦ä¸é‡å¤å°±è¡Œã€‚</p>
<h2 id="7-å¤šçº¿ç¨‹å¤„ç†"><a href="#7-å¤šçº¿ç¨‹å¤„ç†" class="headerlink" title="7.å¤šçº¿ç¨‹å¤„ç†"></a>7.å¤šçº¿ç¨‹å¤„ç†</h2><p>ä¸€å¥è¯æŠŠä¸²è¡Œæ‰§è¡Œçš„æ¥å£å˜æˆå¹¶è¡Œæ‰§è¡Œï¼›</p>
<p><img src="https://img-blog.csdnimg.cn/0f115e004f5b4a21b78f201d0792216c.png"></p>
<p>å¹¶è¡Œæ‰§è¡Œ</p>
<p><img src="https://img-blog.csdnimg.cn/51849d4f6a7446f6bde89286dbfe347e.png"></p>
<p>åœ¨java8ä¹‹å‰å¯ä»¥é€šè¿‡å®ç°<em><strong>Callable</strong></em>æ¥å£ï¼Œè·å–çº¿ç¨‹è¿”å›ç»“æœã€‚</p>
<p>java8ä»¥åé€šè¿‡<em><strong>CompleteFuture</strong></em>ç±»å®ç°è¯¥åŠŸèƒ½ã€‚æˆ‘ä»¬è¿™é‡Œä»¥CompleteFutureä¸ºä¾‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> UserInfo <span class="title function_">getUserInfo</span><span class="params">(Long id)</span> <span class="keyword">throws</span> InterruptedException, ExecutionException &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">UserInfo</span> <span class="variable">userInfo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserInfo</span>();</span><br><span class="line">    <span class="type">CompletableFuture</span> <span class="variable">userFuture</span> <span class="operator">=</span> CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class="line">        getRemoteUserAndFill(id, userInfo);</span><br><span class="line">        <span class="keyword">return</span> Boolean.TRUE;</span><br><span class="line">    &#125;, executor);</span><br><span class="line"></span><br><span class="line">    <span class="type">CompletableFuture</span> <span class="variable">bonusFuture</span> <span class="operator">=</span> CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class="line">        getRemoteBonusAndFill(id, userInfo);</span><br><span class="line">        <span class="keyword">return</span> Boolean.TRUE;</span><br><span class="line">    &#125;, executor);</span><br><span class="line"></span><br><span class="line">    <span class="type">CompletableFuture</span> <span class="variable">growthFuture</span> <span class="operator">=</span> CompletableFuture.supplyAsync(() -&gt; &#123;</span><br><span class="line">        getRemoteGrowthAndFill(id, userInfo);</span><br><span class="line">        <span class="keyword">return</span> Boolean.TRUE;</span><br><span class="line">    &#125;, executor);</span><br><span class="line">    CompletableFuture.allOf(userFuture, bonusFuture, growthFuture).join();</span><br><span class="line"></span><br><span class="line">    userFuture.get();</span><br><span class="line">    bonusFuture.get();</span><br><span class="line">    growthFuture.get();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> userInfo;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-æ‡’åŠ è½½"><a href="#8-æ‡’åŠ è½½" class="headerlink" title="8.æ‡’åŠ è½½"></a>8.æ‡’åŠ è½½</h2><p>æœ‰æ—¶å€™ï¼Œåˆ›å»ºå¯¹è±¡æ˜¯ä¸€ä¸ªéå¸¸è€—æ—¶çš„æ“ä½œï¼Œç‰¹åˆ«æ˜¯åœ¨è¯¥å¯¹è±¡çš„åˆ›å»ºè¿‡ç¨‹ä¸­ï¼Œè¿˜éœ€è¦åˆ›å»ºå¾ˆå¤šå…¶ä»–çš„å¯¹è±¡æ—¶ã€‚</p>
<p>æˆ‘ä»¬ä»¥å•ä¾‹æ¨¡å¼ä¸ºä¾‹ã€‚</p>
<p>åœ¨ä»‹ç»å•ä¾‹æ¨¡å¼çš„æ—¶å€™ï¼Œå¿…é¡»è¦å…ˆä»‹ç»å®ƒçš„ä¸¤ç§éå¸¸è‘—åçš„å®ç°æ–¹å¼ï¼š<em><strong>é¥¿æ±‰æ¨¡å¼</strong></em> å’Œ <em><strong>æ‡’æ±‰æ¨¡å¼</strong></em>ã€‚</p>
<h3 id="8-1-é¥¿æ±‰æ¨¡å¼"><a href="#8-1-é¥¿æ±‰æ¨¡å¼" class="headerlink" title="8.1 é¥¿æ±‰æ¨¡å¼"></a>8.1 <em><strong>é¥¿æ±‰æ¨¡å¼</strong></em></h3><p>å®ä¾‹åœ¨åˆå§‹åŒ–çš„æ—¶å€™å°±å·²ç»å»ºå¥½äº†ï¼Œä¸ç®¡ä½ æœ‰æ²¡æœ‰ç”¨åˆ°ï¼Œå…ˆå»ºå¥½äº†å†è¯´ã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleSingleton</span> &#123;</span><br><span class="line">    <span class="comment">//æŒæœ‰è‡ªå·±ç±»çš„å¼•ç”¨</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">SimpleSingleton</span> <span class="variable">INSTANCE</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleSingleton</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç§æœ‰çš„æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SimpleSingleton</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¯¹å¤–æä¾›è·å–å®ä¾‹çš„é™æ€æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SimpleSingleton <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> INSTANCE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨é¥¿æ±‰æ¨¡å¼çš„å¥½å¤„æ˜¯ï¼š<em><strong>æ²¡æœ‰çº¿ç¨‹å®‰å…¨çš„é—®é¢˜</strong></em>ï¼Œä½†å¸¦æ¥çš„åå¤„ä¹Ÿå¾ˆæ˜æ˜¾ã€‚</p>
<h3 id="8-2-æ‡’æ±‰æ¨¡å¼"><a href="#8-2-æ‡’æ±‰æ¨¡å¼" class="headerlink" title="8.2 æ‡’æ±‰æ¨¡å¼"></a>8.2 <em><strong>æ‡’æ±‰æ¨¡å¼</strong></em></h3><p>é¡¾åæ€ä¹‰å°±æ˜¯å®ä¾‹åœ¨ç”¨åˆ°çš„æ—¶å€™æ‰å»åˆ›å»ºï¼Œâ€æ¯”è¾ƒæ‡’â€ï¼Œç”¨çš„æ—¶å€™æ‰å»æ£€æŸ¥æœ‰æ²¡æœ‰å®ä¾‹ï¼Œå¦‚æœæœ‰åˆ™è¿”å›ï¼Œæ²¡æœ‰åˆ™æ–°å»ºã€‚å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleSingleton2</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SimpleSingleton2 INSTANCE;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SimpleSingleton2</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SimpleSingleton2 <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (INSTANCE == <span class="literal">null</span>) &#123;</span><br><span class="line">            INSTANCE = <span class="keyword">new</span> <span class="title class_">SimpleSingleton2</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> INSTANCE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ä¸­çš„INSTANCEå¯¹è±¡ä¸€å¼€å§‹æ˜¯ç©ºçš„ï¼Œåœ¨è°ƒç”¨getInstanceæ–¹æ³•æ‰ä¼šçœŸæ­£å®ä¾‹åŒ–ã€‚</p>
<p>æ‡’æ±‰æ¨¡å¼ç›¸å¯¹äºé¥¿æ±‰æ¨¡å¼ï¼Œæ²¡æœ‰æå‰å®ä¾‹åŒ–å¯¹è±¡ï¼Œåœ¨çœŸæ­£ä½¿ç”¨çš„æ—¶å€™å†å®ä¾‹åŒ–ï¼Œåœ¨å®ä¾‹åŒ–å¯¹è±¡çš„é˜¶æ®µæ•ˆç‡æ›´é«˜ä¸€äº›ã€‚</p>
<p><strong>é™¤äº†å•ä¾‹æ¨¡å¼ä¹‹å¤–ï¼Œæ‡’åŠ è½½çš„æ€æƒ³ï¼Œä½¿ç”¨æ¯”è¾ƒå¤šçš„å¯èƒ½æ˜¯ï¼š</strong></p>
<ol>
<li><p>springçš„@Lazyæ³¨è§£ã€‚åœ¨springå®¹å™¨å¯åŠ¨çš„æ—¶å€™ï¼Œä¸ä¼šè°ƒç”¨å…¶getBeanæ–¹æ³•åˆå§‹åŒ–å®ä¾‹ã€‚</p>
</li>
<li><p>mybatisçš„æ‡’åŠ è½½ã€‚åœ¨mybatisåšçº§è”æŸ¥è¯¢çš„æ—¶å€™ï¼Œæ¯”å¦‚æŸ¥ç”¨æˆ·çš„åŒæ—¶éœ€è¦æŸ¥è§’è‰²ä¿¡æ¯ã€‚å¦‚æœç”¨äº†æ‡’åŠ è½½ï¼Œå…ˆåªæŸ¥ç”¨æˆ·ä¿¡æ¯ï¼ŒçœŸæ­£ä½¿ç”¨åˆ°è§’è‰²äº†ï¼Œæ‰å–æŸ¥è§’è‰²ä¿¡æ¯ã€‚</p>
</li>
</ol>
<h2 id="9-åˆå§‹åŒ–é›†åˆæ—¶æŒ‡å®šå¤§å°"><a href="#9-åˆå§‹åŒ–é›†åˆæ—¶æŒ‡å®šå¤§å°" class="headerlink" title="9.åˆå§‹åŒ–é›†åˆæ—¶æŒ‡å®šå¤§å°"></a>9.åˆå§‹åŒ–é›†åˆæ—¶æŒ‡å®šå¤§å°</h2><p>åœ¨åˆ›å»ºé›†åˆæ—¶æŒ‡å®šäº†å¤§å°ï¼Œæ¯”æ²¡æœ‰æŒ‡å®šå¤§å°ï¼Œæ·»åŠ 10ä¸‡ä¸ªå…ƒç´ çš„æ•ˆç‡æå‡äº†ä¸€å€ã€‚</p>
<p>å¦‚æœä½ çœ‹è¿‡<em><strong>ArrayList</strong></em>æºç ï¼Œä½ å°±ä¼šå‘ç°å®ƒçš„é»˜è®¤å¤§å°æ˜¯<em><strong>10</strong></em>ï¼Œå¦‚æœæ·»åŠ å…ƒç´ è¶…è¿‡äº†ä¸€å®šçš„é˜€å€¼ï¼Œä¼šæŒ‰<em><strong>1.5</strong></em>å€çš„å¤§å°æ‰©å®¹ã€‚</p>
<p>ä½ æƒ³æƒ³ï¼Œå¦‚æœè£…10ä¸‡æ¡æ•°æ®ï¼Œéœ€è¦æ‰©å®¹å¤šå°‘æ¬¡å‘€ï¼Ÿè€Œæ¯æ¬¡æ‰©å®¹éƒ½éœ€è¦ä¸åœçš„å¤åˆ¶å…ƒç´ ï¼Œä»è€é›†åˆå¤åˆ¶åˆ°æ–°é›†åˆä¸­ï¼Œéœ€è¦æµªè´¹å¤šå°‘æ—¶é—´å‘€ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç¤ºä¾‹</span></span><br><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="comment">//æ­£ä¾‹ </span></span><br><span class="line">List&lt;Integer&gt; list2 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(<span class="number">100000</span>);</span><br></pre></td></tr></table></figure>

<h2 id="10-ä¸è¦æ»¡å±tryâ€¦catchå¼‚å¸¸"><a href="#10-ä¸è¦æ»¡å±tryâ€¦catchå¼‚å¸¸" class="headerlink" title="10.ä¸è¦æ»¡å±tryâ€¦catchå¼‚å¸¸"></a>10.ä¸è¦æ»¡å±tryâ€¦catchå¼‚å¸¸</h2><p>å¯ä»¥ä½¿ç”¨å…¨å±€å¼‚å¸¸å¤„ç†ï¼š<em><strong>RestControllerAdvice</strong></em></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GlobalExceptionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(Exception.class)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">handleException</span><span class="params">(Exception e)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (e <span class="keyword">instanceof</span> ArithmeticException) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;æ•°æ®å¼‚å¸¸&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (e <span class="keyword">instanceof</span> Exception) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;æœåŠ¡å™¨å†…éƒ¨å¼‚å¸¸&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        retur nnull;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="11-ä½è¿ç®—æ•ˆç‡æ›´é«˜"><a href="#11-ä½è¿ç®—æ•ˆç‡æ›´é«˜" class="headerlink" title="11.ä½è¿ç®—æ•ˆç‡æ›´é«˜"></a>11.ä½è¿ç®—æ•ˆç‡æ›´é«˜</h2><h2 id="12-å·§ç”¨ç¬¬ä¸‰æ–¹å·¥å…·ç±»"><a href="#12-å·§ç”¨ç¬¬ä¸‰æ–¹å·¥å…·ç±»" class="headerlink" title="12.å·§ç”¨ç¬¬ä¸‰æ–¹å·¥å…·ç±»"></a>12.å·§ç”¨ç¬¬ä¸‰æ–¹å·¥å…·ç±»</h2><p>å¦‚æœä½ å¼•å…¥<em><strong>com.google.guava</strong></em>çš„pomæ–‡ä»¶ï¼Œä¼šè·å¾—å¾ˆå¤šå¥½ç”¨çš„å°å·¥å…·ã€‚è¿™é‡Œæ¨èä¸€æ¬¾<em><strong>com.google.common.collect</strong></em>åŒ…ä¸‹çš„é›†åˆå·¥å…·ï¼š<em><strong>Lists</strong></em>ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="comment">//guavaæä¾›çš„å­—ç¬¦ä¸²å·¥å…·ç±»</span></span><br><span class="line">Strings.isNullOrEmpty(<span class="string">&quot;&quot;</span>);<span class="comment">//è¿”å›true</span></span><br><span class="line">Strings.nullToEmpty(<span class="literal">null</span>);<span class="comment">//&quot;&quot;</span></span><br><span class="line">Strings.nullToEmpty(<span class="string">&quot;chen&quot;</span>);<span class="comment">//è¿”å›&quot;chen&quot;</span></span><br><span class="line">Strings.emptyToNull(<span class="string">&quot;&quot;</span>);<span class="comment">//è¿”å›null</span></span><br><span class="line">Strings.emptyToNull(<span class="string">&quot;chen&quot;</span>);<span class="comment">//è¿”å›&quot;chen&quot;  </span></span><br><span class="line"> </span><br><span class="line">Strings.commonPrefix(<span class="string">&quot;aaab&quot;</span>, <span class="string">&quot;aac&quot;</span>);<span class="comment">//&quot;aa&quot;å¦åˆ™è¿”å›&quot;&quot;</span></span><br><span class="line">Strings.commonSuffix(<span class="string">&quot;aaac&quot;</span>, <span class="string">&quot;aac&quot;</span>);<span class="comment">//&quot;aac&quot;å¦åˆ™è¿”å›&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="13-ç”¨åŒæ­¥ä»£ç å—ä»£æ›¿åŒæ­¥æ–¹æ³•"><a href="#13-ç”¨åŒæ­¥ä»£ç å—ä»£æ›¿åŒæ­¥æ–¹æ³•" class="headerlink" title="13.ç”¨åŒæ­¥ä»£ç å—ä»£æ›¿åŒæ­¥æ–¹æ³•"></a>13.ç”¨åŒæ­¥ä»£ç å—ä»£æ›¿åŒæ­¥æ–¹æ³•</h2><p>åœ¨æŸäº›ä¸šåŠ¡åœºæ™¯ä¸­ï¼Œä¸ºäº†é˜²æ­¢å¤šä¸ªçº¿ç¨‹å¹¶å‘ä¿®æ”¹æŸä¸ªå…±äº«æ•°æ®ï¼Œé€ æˆæ•°æ®å¼‚å¸¸ã€‚</p>
<p>ä¸ºäº†è§£å†³å¹¶å‘åœºæ™¯ä¸‹ï¼Œå¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹æ•°æ®ï¼Œé€ æˆæ•°æ®ä¸ä¸€è‡´çš„æƒ…å†µã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šï¼š<em><strong>åŠ é”</strong></em>ã€‚</p>
<p>ä½†å¦‚æœé”åŠ å¾—ä¸å¥½ï¼Œå¯¼è‡´<em><strong>é”çš„ç²’åº¦å¤ªç²—</strong></em>ï¼Œä¹Ÿä¼šéå¸¸å½±å“æ¥å£æ€§èƒ½ã€‚</p>
<p>åœ¨javaä¸­æä¾›äº†<em><strong>synchronized</strong></em>å…³é”®å­—ç»™æˆ‘ä»¬çš„ä»£ç åŠ é”ã€‚</p>
<p>é€šå¸¸æœ‰ä¸¤ç§å†™æ³•ï¼š<em><strong>åœ¨æ–¹æ³•ä¸ŠåŠ é”</strong></em> å’Œ <em><strong>åœ¨ä»£ç å—ä¸ŠåŠ é”</strong></em>ã€‚</p>
<p>å…ˆçœ‹çœ‹å¦‚ä½•åœ¨æ–¹æ³•ä¸ŠåŠ é”ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="title function_">doSave</span><span class="params">(String fileUrl)</span> &#123;</span><br><span class="line">    mkdir();</span><br><span class="line">    uploadFile(fileUrl);</span><br><span class="line">    sendMessage(fileUrl);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡ŒåŠ é”çš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œåˆ›å»ºäº†ç›¸åŒçš„ç›®å½•ï¼Œç¬¬äºŒæ¬¡ä¼šåˆ›å»ºå¤±è´¥ï¼Œå½±å“ä¸šåŠ¡åŠŸèƒ½ã€‚</p>
<p>ä½†è¿™ç§ç›´æ¥åœ¨æ–¹æ³•ä¸ŠåŠ é”ï¼Œé”çš„ç²’åº¦æœ‰ç‚¹ç²—ã€‚å› ä¸ºdoSaveæ–¹æ³•ä¸­çš„ä¸Šä¼ æ–‡ä»¶å’Œå‘æ¶ˆæ¯æ–¹æ³•ï¼Œæ˜¯ä¸éœ€è¦åŠ é”çš„ã€‚åªæœ‰åˆ›å»ºç›®å½•æ–¹æ³•ï¼Œæ‰éœ€è¦åŠ é”ã€‚</p>
<p>æˆ‘ä»¬éƒ½çŸ¥é“æ–‡ä»¶ä¸Šä¼ æ“ä½œæ˜¯éå¸¸è€—æ—¶çš„ï¼Œå¦‚æœå°†æ•´ä¸ªæ–¹æ³•åŠ é”ï¼Œé‚£ä¹ˆéœ€è¦ç­‰åˆ°æ•´ä¸ªæ–¹æ³•æ‰§è¡Œå®Œä¹‹åæ‰èƒ½é‡Šæ”¾é”ã€‚æ˜¾ç„¶ï¼Œè¿™ä¼šå¯¼è‡´è¯¥æ–¹æ³•çš„æ€§èƒ½å¾ˆå·®ï¼Œå˜å¾—å¾—ä¸å¿å¤±ã€‚</p>
<p>è¿™æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹æˆåœ¨ä»£ç å—ä¸ŠåŠ é”äº†ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doSave</span><span class="params">(String path,String fileUrl)</span> &#123;</span><br><span class="line">    <span class="keyword">synchronized</span>(<span class="built_in">this</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span>(!exists(path)) &#123;</span><br><span class="line">          mkdir(path);</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    uploadFile(fileUrl);</span><br><span class="line">    sendMessage(fileUrl);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·æ”¹é€ ä¹‹åï¼Œé”çš„ç²’åº¦ä¸€ä¸‹å­å˜å°äº†ï¼Œåªæœ‰å¹¶å‘åˆ›å»ºç›®å½•åŠŸèƒ½æ‰åŠ äº†é”ã€‚è€Œåˆ›å»ºç›®å½•æ˜¯ä¸€ä¸ªéå¸¸å¿«çš„æ“ä½œï¼Œå³ä½¿åŠ é”å¯¹æ¥å£çš„æ€§èƒ½å½±å“ä¹Ÿä¸å¤§ã€‚</p>
<p>æœ€é‡è¦çš„æ˜¯ï¼Œå…¶ä»–çš„ä¸Šä¼ æ–‡ä»¶å’Œå‘é€æ¶ˆæ¯åŠŸèƒ½ï¼Œä»»ç„¶å¯ä»¥å¹¶å‘æ‰§è¡Œã€‚</p>
<h2 id="14-ä¸ç”¨çš„æ•°æ®åŠæ—¶æ¸…ç†"><a href="#14-ä¸ç”¨çš„æ•°æ®åŠæ—¶æ¸…ç†" class="headerlink" title="14.ä¸ç”¨çš„æ•°æ®åŠæ—¶æ¸…ç†"></a>14.ä¸ç”¨çš„æ•°æ®åŠæ—¶æ¸…ç†</h2><p>åœ¨Javaä¸­ä¿è¯çº¿ç¨‹å®‰å…¨çš„æŠ€æœ¯æœ‰å¾ˆå¤šï¼Œå¯ä»¥ä½¿ç”¨<em><strong>synchroized</strong></em>ã€<em><strong>Lock</strong></em>ç­‰å…³é”®å­—ç»™ä»£ç å—<code>åŠ é”</code>ã€‚</p>
<p>ä½†æ˜¯å®ƒä»¬æœ‰ä¸ªå…±åŒçš„ç‰¹ç‚¹ï¼Œå°±æ˜¯åŠ é”ä¼šå¯¹ä»£ç çš„æ€§èƒ½æœ‰ä¸€å®šçš„æŸè€—ã€‚</p>
<p>å…¶å®ï¼Œåœ¨jdkä¸­è¿˜æä¾›äº†å¦å¤–ä¸€ç§æ€æƒ³å³ï¼š<code>ç”¨ç©ºé—´æ¢æ—¶é—´</code>ã€‚</p>
<p>æ²¡é”™ï¼Œä½¿ç”¨<em><strong>ThreadLocal</strong></em>ç±»å°±æ˜¯å¯¹è¿™ç§æ€æƒ³çš„ä¸€ç§å…·ä½“ä½“ç°ã€‚</p>
<p>ThreadLocalä¸ºæ¯ä¸ªä½¿ç”¨å˜é‡çš„çº¿ç¨‹æä¾›äº†ä¸€ä¸ªç‹¬ç«‹çš„å˜é‡å‰¯æœ¬ï¼Œè¿™æ ·æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½èƒ½ç‹¬ç«‹åœ°æ”¹å˜è‡ªå·±çš„å‰¯æœ¬ï¼Œè€Œä¸ä¼šå½±å“å…¶å®ƒçº¿ç¨‹æ‰€å¯¹åº”çš„å‰¯æœ¬ã€‚</p>
<p>ThreadLocalçš„ç”¨æ³•å¤§è‡´æ˜¯è¿™æ ·çš„ï¼š</p>
<ol>
<li><p>å…ˆåˆ›å»ºä¸€ä¸ªCurrentUserç±»ï¼Œå…¶ä¸­åŒ…å«äº†ThreadLocalçš„é€»è¾‘ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CurrentUser</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ThreadLocal&lt;UserInfo&gt; THREA_LOCAL = <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">set</span><span class="params">(UserInfo userInfo)</span> &#123;</span><br><span class="line">        THREA_LOCAL.set(userInfo);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> UserInfo <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">       THREA_LOCAL.get();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">remove</span><span class="params">()</span> &#123;</span><br><span class="line">       THREA_LOCAL.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨ä¸šåŠ¡ä»£ç ä¸­è°ƒç”¨CurrentUserç±»ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doSamething</span><span class="params">(UserDto userDto)</span> &#123;</span><br><span class="line">   <span class="type">UserInfo</span> <span class="variable">userInfo</span> <span class="operator">=</span> convert(userDto);</span><br><span class="line">   CurrentUser.set(userInfo);</span><br><span class="line">   ...</span><br><span class="line"></span><br><span class="line">   <span class="comment">//ä¸šåŠ¡ä»£ç </span></span><br><span class="line">   <span class="type">UserInfo</span> <span class="variable">userInfo</span> <span class="operator">=</span> CurrentUser.get();</span><br><span class="line">   ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸šåŠ¡ä»£ç çš„ç¬¬ä¸€è¡Œï¼Œå°†userInfoå¯¹è±¡è®¾ç½®åˆ°CurrentUserï¼Œè¿™æ ·åœ¨ä¸šåŠ¡ä»£ç ä¸­ï¼Œå°±èƒ½é€šè¿‡CurrentUser.get()è·å–åˆ°åˆšåˆšè®¾ç½®çš„userInfoå¯¹è±¡ã€‚ç‰¹åˆ«æ˜¯å¯¹ä¸šåŠ¡ä»£ç è°ƒç”¨å±‚çº§æ¯”è¾ƒæ·±çš„æƒ…å†µï¼Œè¿™ç§ç”¨æ³•éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥å‡å°‘å¾ˆå¤šä¸å¿…è¦ä¼ å‚ã€‚</p>
<p>ä½†åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œè¿™æ®µä»£ç æœ‰é—®é¢˜ï¼Œåªå¾€ThreadLocalå­˜æ•°æ®ï¼Œæ•°æ®ç”¨å®Œä¹‹åå¹¶æ²¡æœ‰åŠæ—¶æ¸…ç†ã€‚</p>
<p>ThreadLocalå³ä½¿ä½¿ç”¨äº†<em><strong>WeakReference</strong></em>ï¼ˆå¼±å¼•ç”¨ï¼‰ä¹Ÿå¯èƒ½ä¼šå­˜åœ¨<code>å†…å­˜æ³„éœ²</code>é—®é¢˜ï¼Œå› ä¸º entryå¯¹è±¡ä¸­åªæŠŠkey(å³threadLocalå¯¹è±¡)è®¾ç½®æˆäº†å¼±å¼•ç”¨ï¼Œä½†æ˜¯valueå€¼æ²¡æœ‰ã€‚</p>
<p>é‚£ä¹ˆï¼Œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doSamething</span><span class="params">(UserDto userDto)</span> &#123;</span><br><span class="line">   <span class="type">UserInfo</span> <span class="variable">userInfo</span> <span class="operator">=</span> convert(userDto);</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">try</span>&#123;</span><br><span class="line">     CurrentUser.set(userInfo);</span><br><span class="line">     ...</span><br><span class="line">     </span><br><span class="line">     <span class="comment">//ä¸šåŠ¡ä»£ç </span></span><br><span class="line">     <span class="type">UserInfo</span> <span class="variable">userInfo</span> <span class="operator">=</span> CurrentUser.get();</span><br><span class="line">     ...</span><br><span class="line">   &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">      CurrentUser.remove();</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éœ€è¦åœ¨<em><strong>finally</strong></em>ä»£ç å—ä¸­ï¼Œè°ƒç”¨<em><strong>remove</strong></em>æ–¹æ³•æ¸…ç†æ²¡ç”¨çš„æ•°æ®ã€‚</p>
<h2 id="15-ç”¨equalsæ–¹æ³•æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰"><a href="#15-ç”¨equalsæ–¹æ³•æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰" class="headerlink" title="15.ç”¨equalsæ–¹æ³•æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰"></a>15.ç”¨equalsæ–¹æ³•æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰</h2><h2 id="16-é¿å…åˆ›å»ºå¤§é›†åˆ"><a href="#16-é¿å…åˆ›å»ºå¤§é›†åˆ" class="headerlink" title="16.é¿å…åˆ›å»ºå¤§é›†åˆ"></a>16.é¿å…åˆ›å»ºå¤§é›†åˆ</h2><p>å°½é‡åˆ†é¡µå¤„ç†</p>
<h2 id="17-çŠ¶æ€ç”¨æšä¸¾"><a href="#17-çŠ¶æ€ç”¨æšä¸¾" class="headerlink" title="17.çŠ¶æ€ç”¨æšä¸¾"></a>17.çŠ¶æ€ç”¨æšä¸¾</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">OrderStatusEnum</span> &#123;  </span><br><span class="line">     CREATE(<span class="number">1</span>, <span class="string">&quot;ä¸‹å•&quot;</span>),  </span><br><span class="line">     PAY(<span class="number">2</span>, <span class="string">&quot;æ”¯ä»˜&quot;</span>),  </span><br><span class="line">     DONE(<span class="number">3</span>, <span class="string">&quot;å®Œæˆ&quot;</span>),  </span><br><span class="line">     CANCEL(<span class="number">4</span>, <span class="string">&quot;æ’¤é”€&quot;</span>);  </span><br><span class="line"></span><br><span class="line">     <span class="keyword">private</span> <span class="type">int</span> code;  </span><br><span class="line">     <span class="keyword">private</span> String message;  </span><br><span class="line"></span><br><span class="line">     OrderStatusEnum(<span class="type">int</span> code, String message) &#123;  </span><br><span class="line">         <span class="built_in">this</span>.code = code;  </span><br><span class="line">         <span class="built_in">this</span>.message = message;  </span><br><span class="line">     &#125;  </span><br><span class="line">   </span><br><span class="line">     <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCode</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.code;  </span><br><span class="line">     &#125;  </span><br><span class="line"></span><br><span class="line">     <span class="keyword">public</span> String <span class="title function_">getMessage</span><span class="params">()</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.message;  </span><br><span class="line">     &#125;  </span><br><span class="line">  </span><br><span class="line">     <span class="keyword">public</span> <span class="keyword">static</span> OrderStatusEnum <span class="title function_">getOrderStatusEnum</span><span class="params">(<span class="type">int</span> code)</span> &#123;  </span><br><span class="line">        <span class="keyword">return</span> Arrays.stream(OrderStatusEnum.values()).filter(x -&gt; x.code == code).findFirst().orElse(<span class="literal">null</span>);  </span><br><span class="line">     &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è€Œä¸”ä½¿ç”¨æšä¸¾çš„å¥½å¤„æ˜¯ï¼š</p>
<ol>
<li><p>ä»£ç çš„å¯è¯»æ€§å˜å¼ºäº†ï¼Œä¸åŒçš„çŠ¶æ€ï¼Œæœ‰ä¸åŒçš„æšä¸¾è¿›è¡Œç»Ÿä¸€ç®¡ç†å’Œç»´æŠ¤ã€‚</p>
</li>
<li><p>æšä¸¾æ˜¯å¤©ç„¶å•ä¾‹çš„ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨&#x3D;&#x3D;å·è¿›è¡Œæ¯”è¾ƒã€‚</p>
</li>
<li><p>codeå’Œmessageå¯ä»¥æˆå¯¹å‡ºç°ï¼Œæ¯”è¾ƒå®¹æ˜“ç›¸å…³è½¬æ¢ã€‚</p>
</li>
<li><p>æšä¸¾å¯ä»¥æ¶ˆé™¤ifâ€¦elseè¿‡å¤šé—®é¢˜ã€‚</p>
</li>
</ol>
<h2 id="18-æŠŠå›ºå®šå€¼å®šä¹‰æˆé™æ€å¸¸é‡"><a href="#18-æŠŠå›ºå®šå€¼å®šä¹‰æˆé™æ€å¸¸é‡" class="headerlink" title="18.æŠŠå›ºå®šå€¼å®šä¹‰æˆé™æ€å¸¸é‡"></a>18.æŠŠå›ºå®šå€¼å®šä¹‰æˆé™æ€å¸¸é‡</h2><p>ä½¿ç”¨<em><strong>static final</strong></em>å…³é”®å­—ä¿®é¥°é™æ€å¸¸é‡ï¼Œ<em><strong>static</strong></em>è¡¨ç¤º<code>é™æ€</code>çš„æ„æ€ï¼Œå³ç±»å˜é‡ï¼Œè€Œ<em><strong>final</strong></em>è¡¨ç¤º<em><strong>ä¸å…è®¸ä¿®æ”¹</strong></em>ã€‚</p>
<p>ä¸¤ä¸ªå…³é”®å­—åŠ åœ¨ä¸€èµ·ï¼Œå‘Šè¯‰Javaè™šæ‹Ÿæœºè¿™ç§å˜é‡ï¼Œåœ¨å†…å­˜ä¸­åªæœ‰ä¸€ä»½ï¼Œåœ¨å…¨å±€ä¸Šæ˜¯å”¯ä¸€çš„ï¼Œä¸èƒ½ä¿®æ”¹ï¼Œä¹Ÿå°±æ˜¯<em><strong>é™æ€å¸¸é‡</strong></em>ã€‚</p>
<h2 id="19-é¿å…å¤§äº‹åŠ¡"><a href="#19-é¿å…å¤§äº‹åŠ¡" class="headerlink" title="19.é¿å…å¤§äº‹åŠ¡"></a>19.é¿å…å¤§äº‹åŠ¡</h2><p>å¾ˆå¤šå°ä¼™ä¼´åœ¨ä½¿ç”¨springæ¡†æ¶å¼€å‘é¡¹ç›®æ—¶ï¼Œä¸ºäº†æ–¹ä¾¿ï¼Œå–œæ¬¢ä½¿ç”¨***@Transactional***æ³¨è§£æä¾›äº‹åŠ¡åŠŸèƒ½ã€‚</p>
<p>æ²¡é”™ï¼Œä½¿ç”¨@Transactionalæ³¨è§£è¿™ç§å£°æ˜å¼äº‹åŠ¡çš„æ–¹å¼æä¾›äº‹åŠ¡åŠŸèƒ½ï¼Œç¡®å®èƒ½å°‘å†™å¾ˆå¤šä»£ç ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚</p>
<p>ä½†ä¹Ÿå®¹æ˜“é€ æˆå¤§äº‹åŠ¡ï¼Œå¼•å‘å…¶ä»–çš„é—®é¢˜ã€‚</p>
<p>ä¸‹é¢ç”¨ä¸€å¼ å›¾çœ‹çœ‹å¤§äº‹åŠ¡å¼•å‘çš„é—®é¢˜ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/d313f62e4a01487790cbf8cf4c474787.png"></p>
<p>ä»å›¾ä¸­èƒ½å¤Ÿçœ‹å‡ºï¼Œå¤§äº‹åŠ¡é—®é¢˜å¯èƒ½ä¼šé€ æˆæ¥å£è¶…æ—¶ï¼Œå¯¹æ¥å£çš„æ€§èƒ½æœ‰ç›´æ¥çš„å½±å“ã€‚</p>
<p>æˆ‘ä»¬è¯¥å¦‚ä½•ä¼˜åŒ–å¤§äº‹åŠ¡å‘¢ï¼Ÿ</p>
<ol>
<li><p>å°‘ç”¨@Transactionalæ³¨è§£</p>
</li>
<li><p>å°†æŸ¥è¯¢(select)æ–¹æ³•æ”¾åˆ°äº‹åŠ¡å¤–</p>
</li>
<li><p>äº‹åŠ¡ä¸­é¿å…è¿œç¨‹è°ƒç”¨</p>
</li>
<li><p>äº‹åŠ¡ä¸­é¿å…ä¸€æ¬¡æ€§å¤„ç†å¤ªå¤šæ•°æ®</p>
</li>
<li><p>æœ‰äº›åŠŸèƒ½å¯ä»¥éäº‹åŠ¡æ‰§è¡Œ</p>
</li>
<li><p>æœ‰äº›åŠŸèƒ½å¯ä»¥å¼‚æ­¥å¤„ç†</p>
</li>
</ol>
<p>å¤§å®¶å¯ä»¥å‚è€ƒå…³äºå¤§äº‹åŠ¡çš„è¿™ç¯‡æ–‡ç« ã€Š<a href="https://mp.weixin.qq.com/s?__biz=MzkwNjMwMTgzMQ==&mid=2247490259&idx=1&sn=1dd11c5f49103ca303a61fc82ce406e0&chksm=c0ebc23bf79c4b2db58b28ef752560bd91a1932ceb6713c9b19b821db0f29e1c58275d334076&token=2041133408&lang=zh_CN&scene=21#wechat_redirect" title="è®©äººå¤´ç—›çš„å¤§äº‹åŠ¡é—®é¢˜åˆ°åº•è¦å¦‚ä½•è§£å†³ï¼Ÿ">è®©äººå¤´ç—›çš„å¤§äº‹åŠ¡é—®é¢˜åˆ°åº•è¦å¦‚ä½•è§£å†³ï¼Ÿ</a>ã€‹</p>
<h2 id="20-æ¶ˆé™¤è¿‡é•¿çš„ifâ€¦else"><a href="#20-æ¶ˆé™¤è¿‡é•¿çš„ifâ€¦else" class="headerlink" title="20.æ¶ˆé™¤è¿‡é•¿çš„ifâ€¦else"></a>20.æ¶ˆé™¤è¿‡é•¿çš„ifâ€¦else</h2><p>æ›´è¯¦ç»†çš„å†…å®¹å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« ã€Š<a href="https://mp.weixin.qq.com/s?__biz=MzkwNjMwMTgzMQ==&mid=2247490272&idx=1&sn=c5db63c7b52e7518b7a42e48c70927fc&scene=21#wechat_redirect" title="æ¶ˆé™¤if...elseæ˜¯9æ¡é”¦å›Šå¦™è®¡">æ¶ˆé™¤ifâ€¦elseæ˜¯9æ¡é”¦å›Šå¦™è®¡</a>ã€‹</p>
<h2 id="21-é˜²æ­¢æ­»å¾ªç¯"><a href="#21-é˜²æ­¢æ­»å¾ªç¯" class="headerlink" title="21.é˜²æ­¢æ­»å¾ªç¯"></a>21.é˜²æ­¢æ­»å¾ªç¯</h2><h2 id="22-æ³¨æ„BigDecimalçš„å‘"><a href="#22-æ³¨æ„BigDecimalçš„å‘" class="headerlink" title="22.æ³¨æ„BigDecimalçš„å‘"></a>22.æ³¨æ„BigDecimalçš„å‘</h2><p>é€šå¸¸æˆ‘ä»¬ä¼šæŠŠä¸€äº›å°æ•°ç±»å‹çš„å­—æ®µï¼ˆæ¯”å¦‚ï¼šé‡‘é¢ï¼‰ï¼Œå®šä¹‰æˆ<em><strong>BigDecimal</strong></em>ï¼Œè€Œä¸æ˜¯<em><strong>Double</strong></em>ï¼Œé¿å…ä¸¢å¤±ç²¾åº¦é—®é¢˜ã€‚</p>
<p>å¸¸è¯†å‘Šè¯‰æˆ‘ä»¬ä½¿ç”¨<em><strong>BigDecimal</strong></em>èƒ½é¿å…ä¸¢å¤±ç²¾åº¦ã€‚</p>
<p>ä½†æ˜¯ä½¿ç”¨BigDecimalèƒ½é¿å…ä¸¢å¤±ç²¾åº¦å—ï¼Ÿ</p>
<p>ç­”æ¡ˆæ˜¯å¦å®šçš„ã€‚</p>
<p>ä¸ºä»€ä¹ˆï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">BigDecimal</span> <span class="variable">amount1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="number">0.02</span>);</span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">amount2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="number">0.03</span>);</span><br><span class="line">System.out.println(amount2.subtract(amount1));</span><br></pre></td></tr></table></figure>

<p>ç»“æœï¼š</p>
<blockquote>
<p>0.0099999999999999984734433411404097569175064563751220703125</p>
</blockquote>
<p>ä¸ç§‘å­¦å‘€ï¼Œä¸ºå•¥è¿˜æ˜¯ä¸¢å¤±ç²¾åº¦äº†ï¼Ÿ</p>
<p>ä½¿ç”¨BigDecimalæ„é€ å‡½æ•°åˆå§‹åŒ–å¯¹è±¡ï¼Œä¹Ÿä¼šä¸¢å¤±ç²¾åº¦ã€‚</p>
<p>é‚£ä¹ˆï¼Œå¦‚ä½•æ‰èƒ½ä¸ä¸¢å¤±ç²¾åº¦å‘¢ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">BigDecimal</span> <span class="variable">amount1</span> <span class="operator">=</span> BigDecimal.valueOf(<span class="number">0.02</span>);</span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">amount2</span> <span class="operator">=</span> BigDecimal.valueOf(<span class="number">0.03</span>);</span><br><span class="line">System.out.println(amount2.subtract(amount1));</span><br></pre></td></tr></table></figure>

<h2 id="23-å°½å¯èƒ½å¤ç”¨ä»£ç "><a href="#23-å°½å¯èƒ½å¤ç”¨ä»£ç " class="headerlink" title="23.å°½å¯èƒ½å¤ç”¨ä»£ç "></a>23.å°½å¯èƒ½å¤ç”¨ä»£ç </h2><h2 id="24-foreachå¾ªç¯ä¸­ä¸removeå…ƒç´ "><a href="#24-foreachå¾ªç¯ä¸­ä¸removeå…ƒç´ " class="headerlink" title="24.foreachå¾ªç¯ä¸­ä¸removeå…ƒç´ "></a>24.foreachå¾ªç¯ä¸­ä¸removeå…ƒç´ </h2><p>å¾ªç¯æœ‰å¾ˆå¤šç§å†™æ³•ï¼Œæ¯”å¦‚ï¼šwhileã€forã€foreachç­‰ã€‚  </p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; list = Lists.newArrayList(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (String temp : list) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&quot;c&quot;</span>.equals(temp)) &#123;</span><br><span class="line">                list.remove(temp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ‰§è¡Œç»“æœï¼š</span></span><br><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.util.ConcurrentModificationException</span><br><span class="line"> at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:<span class="number">901</span>)</span><br><span class="line"> at java.util.ArrayList$Itr.next(ArrayList.java:<span class="number">851</span>)</span><br><span class="line"> at com.sue.jump.service.test1.Test2.main(Test2.java:<span class="number">24</span>)</span><br></pre></td></tr></table></figure>

<p>è¿™ç§åœ¨<em><strong>foreach</strong></em>å¾ªç¯ä¸­è°ƒç”¨<em><strong>remove</strong></em>æ–¹æ³•åˆ é™¤å…ƒç´ ï¼Œå¯èƒ½ä¼šæŠ¥<em><strong>ConcurrentModificationException</strong></em>å¼‚å¸¸ã€‚</p>
<p>å¦‚æœæƒ³åœ¨éå†é›†åˆæ—¶ï¼Œåˆ é™¤å…¶ä¸­çš„å…ƒç´ ï¼Œå¯ä»¥ç”¨forå¾ªç¯ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; list = Lists.newArrayList(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>);</span><br><span class="line">       <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">           <span class="type">String</span> <span class="variable">temp</span> <span class="operator">=</span> list.get(i);</span><br><span class="line">           <span class="keyword">if</span> (<span class="string">&quot;c&quot;</span>.equals(temp)) &#123;</span><br><span class="line">               list.remove(temp);</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       System.out.println(list);</span><br></pre></td></tr></table></figure>

<h2 id="25-é¿å…éšæ„æ‰“å°æ—¥å¿—"><a href="#25-é¿å…éšæ„æ‰“å°æ—¥å¿—" class="headerlink" title="25.é¿å…éšæ„æ‰“å°æ—¥å¿—"></a>25.é¿å…éšæ„æ‰“å°æ—¥å¿—</h2><p>ä½¿ç”¨<em><strong>isDebugEnabled</strong></em>åˆ¤æ–­ä¸€ä¸‹ï¼Œå¦‚æœå½“å‰çš„æ—¥å¿—çº§åˆ«æ˜¯<em><strong>debug</strong></em>æ‰æ‰“å°æ—¥å¿—ã€‚ç”Ÿäº§ç¯å¢ƒé»˜è®¤æ—¥å¿—çº§åˆ«æ˜¯<em><strong>info</strong></em>ï¼Œåœ¨æœ‰äº›ç´§æ€¥æƒ…å†µä¸‹ï¼ŒæŠŠæŸä¸ªæ¥å£æˆ–è€…æ–¹æ³•çš„æ—¥å¿—çº§åˆ«æ”¹æˆdebugï¼Œæ‰“å°å®Œæˆ‘ä»¬éœ€è¦çš„æ—¥å¿—åï¼Œåˆè°ƒæ•´å›å»ã€‚</p>
<p>æ–¹ä¾¿æˆ‘ä»¬å®šä½é—®é¢˜ï¼Œåˆä¸ä¼šäº§ç”Ÿå¤§é‡çš„åƒåœ¾æ—¥å¿—ï¼Œä¸€ä¸¾ä¸¤å¾—</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/query&quot;)</span></span><br><span class="line"><span class="keyword">public</span> List&lt;User&gt; <span class="title function_">query</span><span class="params">(<span class="meta">@RequestBody</span> List&lt;Long&gt; ids)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (log.isDebugEnabled()) &#123;</span><br><span class="line">        log.debug(<span class="string">&quot;request params:&#123;&#125;&quot;</span>, ids);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    List&lt;User&gt; userList = userService.query(ids);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (log.isDebugEnabled()) &#123;</span><br><span class="line">        log.debug(<span class="string">&quot;response:&#123;&#125;&quot;</span>, userList);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> userList;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="26-æ¯”è¾ƒæ—¶æŠŠå¸¸é‡å†™å‰é¢"><a href="#26-æ¯”è¾ƒæ—¶æŠŠå¸¸é‡å†™å‰é¢" class="headerlink" title="26.æ¯”è¾ƒæ—¶æŠŠå¸¸é‡å†™å‰é¢"></a>26.æ¯”è¾ƒæ—¶æŠŠå¸¸é‡å†™å‰é¢</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">FOUND_NAME</span> <span class="operator">=</span> <span class="string">&quot;è‹ä¸‰&quot;</span>;</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="literal">null</span> == user) &#123;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(FOUND_NAME.equals(user.getName())) &#123;</span><br><span class="line">   System.out.println(<span class="string">&quot;æ‰¾åˆ°ï¼š&quot;</span>+user.getName());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨ä½¿ç”¨<em><strong>equals</strong></em>åšæ¯”è¾ƒæ—¶ï¼Œå°½é‡å°†<em><strong>å¸¸é‡</strong></em>å†™åœ¨å‰é¢ï¼Œå³equalsæ–¹æ³•çš„å·¦è¾¹ã€‚</p>
<p>è¿™æ ·å³ä½¿user.getName()è¿”å›çš„æ•°æ®ä¸ºnullï¼Œequalsæ–¹æ³•ä¼šç›´æ¥è¿”å›falseï¼Œè€Œä¸å†æ˜¯æŠ¥ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</p>
<h2 id="27-åç§°è¦è§åçŸ¥æ„"><a href="#27-åç§°è¦è§åçŸ¥æ„" class="headerlink" title="27.åç§°è¦è§åçŸ¥æ„"></a>27.åç§°è¦è§åçŸ¥æ„</h2><h2 id="28-SimpleDateFormatçº¿ç¨‹ä¸å®‰å…¨"><a href="#28-SimpleDateFormatçº¿ç¨‹ä¸å®‰å…¨" class="headerlink" title="28.SimpleDateFormatçº¿ç¨‹ä¸å®‰å…¨"></a>28.SimpleDateFormatçº¿ç¨‹ä¸å®‰å…¨</h2><p>ä½¿ç”¨java8çš„DateTimeFormatterç±»ã€‚  </p>
<h2 id="29-å°‘ç”¨Executorsåˆ›å»ºçº¿ç¨‹æ± "><a href="#29-å°‘ç”¨Executorsåˆ›å»ºçº¿ç¨‹æ± " class="headerlink" title="29.å°‘ç”¨Executorsåˆ›å»ºçº¿ç¨‹æ± "></a>29.å°‘ç”¨Executorsåˆ›å»ºçº¿ç¨‹æ± </h2><p>æˆ‘ä»¬éƒ½çŸ¥é“<em><strong>JDK5</strong></em>ä¹‹åï¼Œæä¾›äº†<em><strong>ThreadPoolExecutor</strong></em>ç±»ï¼Œç”¨å®ƒå¯ä»¥<em><strong>è‡ªå®šä¹‰çº¿ç¨‹æ± </strong></em>ã€‚</p>
<p>çº¿ç¨‹æ± çš„å¥½å¤„æœ‰å¾ˆå¤šï¼Œä¸‹é¢ä¸»è¦è¯´è¯´è¿™3ä¸ªæ–¹é¢ã€‚</p>
<ol>
<li><p><em><strong>é™ä½èµ„æºæ¶ˆè€—</strong></em>ï¼šé¿å…äº†é¢‘ç¹çš„åˆ›å»ºçº¿ç¨‹å’Œé”€æ¯çº¿ç¨‹ï¼Œå¯ä»¥ç›´æ¥å¤ç”¨å·²æœ‰çº¿ç¨‹ã€‚è€Œæˆ‘ä»¬éƒ½çŸ¥é“ï¼Œåˆ›å»ºçº¿ç¨‹æ˜¯éå¸¸è€—æ—¶çš„æ“ä½œã€‚</p>
</li>
<li><p><em><strong>æä¾›é€Ÿåº¦</strong></em>ï¼šä»»åŠ¡è¿‡æ¥ä¹‹åï¼Œå› ä¸ºçº¿ç¨‹å·²å­˜åœ¨ï¼Œå¯ä»¥æ‹¿æ¥ç›´æ¥ä½¿ç”¨ã€‚</p>
</li>
<li><p><em><strong>æé«˜çº¿ç¨‹çš„å¯ç®¡ç†æ€§</strong></em>ï¼šçº¿ç¨‹æ˜¯éå¸¸å®è´µçš„èµ„æºï¼Œå¦‚æœåˆ›å»ºè¿‡å¤šçš„çº¿ç¨‹ï¼Œä¸ä»…ä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œç”šè‡³ä¼šå½±å“ç³»ç»Ÿçš„ç¨³å®šã€‚ä½¿ç”¨çº¿ç¨‹æ± ï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿çš„åˆ›å»ºã€ç®¡ç†å’Œç›‘æ§çº¿ç¨‹ã€‚</p>
</li>
</ol>
<p>å½“ç„¶JDKä¸ºäº†æˆ‘ä»¬ä½¿ç”¨æ›´ä¾¿æ·ï¼Œä¸“é—¨æä¾›äº†ï¼š<em><strong>Executors</strong></em>ç±»ï¼Œç»™æˆ‘ä»¬å¿«é€Ÿåˆ›å»º<em><strong>çº¿ç¨‹æ± </strong></em>ã€‚</p>
<p>è¯¥ç±»ä¸­åŒ…å«äº†å¾ˆå¤š<em><strong>é™æ€æ–¹æ³•</strong></em>ï¼š</p>
<ul>
<li><p><em><strong>newCachedThreadPool</strong></em>ï¼šåˆ›å»ºä¸€ä¸ªå¯ç¼“å†²çš„çº¿ç¨‹ï¼Œå¦‚æœçº¿ç¨‹æ± å¤§å°è¶…è¿‡å¤„ç†éœ€è¦ï¼Œå¯çµæ´»å›æ”¶ç©ºé—²çº¿ç¨‹ï¼Œè‹¥æ— å¯å›æ”¶ï¼Œåˆ™æ–°å»ºçº¿ç¨‹ã€‚</p>
</li>
<li><p><em><strong>newFixedThreadPool</strong></em>ï¼šåˆ›å»ºä¸€ä¸ªå›ºå®šå¤§å°çš„çº¿ç¨‹æ± ï¼Œå¦‚æœä»»åŠ¡æ•°é‡è¶…è¿‡çº¿ç¨‹æ± å¤§å°ï¼Œåˆ™å°†å¤šä½™çš„ä»»åŠ¡æ”¾åˆ°é˜Ÿåˆ—ä¸­ã€‚</p>
</li>
<li><p><em><strong>newScheduledThreadPool</strong></em>ï¼šåˆ›å»ºä¸€ä¸ªå›ºå®šå¤§å°ï¼Œå¹¶ä¸”èƒ½æ‰§è¡Œå®šæ—¶å‘¨æœŸä»»åŠ¡çš„çº¿ç¨‹æ± ã€‚</p>
</li>
<li><p><em><strong>newSingleThreadExecutor</strong></em>ï¼šåˆ›å»ºåªæœ‰ä¸€ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± ï¼Œä¿è¯æ‰€æœ‰çš„ä»»åŠ¡å®‰è£…é¡ºåºæ‰§è¡Œã€‚</p>
</li>
</ul>
<p>åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œå¦‚æœå¤§å®¶ä½¿ç”¨è¿™äº›é™æ€æ–¹æ³•åˆ›å»ºçº¿ç¨‹æ± ï¼Œä¼šæœ‰ä¸€äº›é—®é¢˜ã€‚</p>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬ä¸€èµ·çœ‹çœ‹æœ‰å“ªäº›é—®é¢˜ï¼Ÿ</p>
<ul>
<li><p><em><strong>newFixedThreadPool</strong></em>ï¼šå…è®¸è¯·æ±‚çš„é˜Ÿåˆ—é•¿åº¦æ˜¯Integer.MAX_VALUEï¼Œå¯èƒ½ä¼šå †ç§¯å¤§é‡çš„è¯·æ±‚ï¼Œä»è€Œå¯¼è‡´OOMã€‚</p>
</li>
<li><p><em><strong>newSingleThreadExecutor</strong></em>ï¼šå…è®¸è¯·æ±‚çš„é˜Ÿåˆ—é•¿åº¦æ˜¯Integer.MAX_VALUEï¼Œå¯èƒ½ä¼šå †ç§¯å¤§é‡çš„è¯·æ±‚ï¼Œä»è€Œå¯¼è‡´OOMã€‚</p>
</li>
<li><p><em><strong>newCachedThreadPool</strong></em>ï¼šå…è®¸åˆ›å»ºçš„çº¿ç¨‹æ•°æ˜¯Integer.MAX_VALUEï¼Œå¯èƒ½ä¼šåˆ›å»ºå¤§é‡çš„çº¿ç¨‹ï¼Œä»è€Œå¯¼è‡´OOMã€‚</p>
</li>
</ul>
<p>é‚£æˆ‘ä»¬è¯¥æ€åŠå‘¢ï¼Ÿ</p>
<p>ä¼˜å…ˆæ¨èä½¿ç”¨<em><strong>ThreadPoolExecutor</strong></em>ç±»ï¼Œæˆ‘ä»¬è‡ªå®šä¹‰çº¿ç¨‹æ± ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">ExecutorService</span> <span class="variable">threadPool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(</span><br><span class="line">    <span class="number">8</span>, <span class="comment">//corePoolSizeçº¿ç¨‹æ± ä¸­æ ¸å¿ƒçº¿ç¨‹æ•°</span></span><br><span class="line">    <span class="number">10</span>, <span class="comment">//maximumPoolSize çº¿ç¨‹æ± ä¸­æœ€å¤§çº¿ç¨‹æ•°</span></span><br><span class="line">    <span class="number">60</span>, <span class="comment">//çº¿ç¨‹æ± ä¸­çº¿ç¨‹çš„æœ€å¤§ç©ºé—²æ—¶é—´ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´ç©ºé—²çº¿ç¨‹å°†è¢«å›æ”¶</span></span><br><span class="line">    TimeUnit.SECONDS,<span class="comment">//æ—¶é—´å•ä½</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ArrayBlockingQueue</span>(<span class="number">500</span>), <span class="comment">//é˜Ÿåˆ—</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>.CallerRunsPolicy()); <span class="comment">//æ‹’ç»ç­–ç•¥</span></span><br></pre></td></tr></table></figure>

<p>é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œå¦‚æœæ˜¯ä¸€äº›ä½å¹¶å‘åœºæ™¯ï¼Œä½¿ç”¨<em><strong>Executors</strong></em>ç±»åˆ›å»ºçº¿ç¨‹æ± ä¹Ÿæœªå°ä¸å¯ï¼Œä¹Ÿä¸èƒ½å®Œå…¨ä¸€æ£å­æ‰“æ­»ã€‚åœ¨è¿™äº›ä½å¹¶å‘åœºæ™¯ä¸‹ï¼Œå¾ˆéš¾å‡ºç°<em><strong>OOM</strong></em>é—®é¢˜ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ ¹æ®å®é™…ä¸šåŠ¡åœºæ™¯é€‰æ‹©ã€‚</p>
<h2 id="30-Arrays-asListè½¬æ¢çš„é›†åˆåˆ«ä¿®æ”¹"><a href="#30-Arrays-asListè½¬æ¢çš„é›†åˆåˆ«ä¿®æ”¹" class="headerlink" title="30.Arrays.asListè½¬æ¢çš„é›†åˆåˆ«ä¿®æ”¹"></a>30.Arrays.asListè½¬æ¢çš„é›†åˆåˆ«ä¿®æ”¹</h2><p>åœ¨æˆ‘ä»¬æ—¥å¸¸å·¥ä½œä¸­ï¼Œç»å¸¸éœ€è¦æŠŠ<em><strong>æ•°ç»„</strong></em>è½¬æ¢æˆ<em><strong>List</strong></em>é›†åˆã€‚</p>
<p>å› ä¸ºæ•°ç»„çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œä¸å¤ªå¥½æ‰©å®¹ï¼Œè€ŒListçš„é•¿åº¦æ˜¯å¯å˜çš„ï¼Œå®ƒçš„é•¿åº¦ä¼šæ ¹æ®å…ƒç´ çš„æ•°é‡åŠ¨æ€æ‰©å®¹ã€‚</p>
<p>åœ¨JDKçš„<em><strong>Arrays</strong></em>ç±»ä¸­æä¾›äº†<em><strong>asList</strong></em>æ–¹æ³•ï¼Œå¯ä»¥æŠŠ<em><strong>æ•°ç»„</strong></em>è½¬æ¢æˆ<em><strong>List</strong></em>ã€‚</p>
<p><em><strong>æ­£ä¾‹</strong></em>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String [] array = <span class="keyword">new</span> <span class="title class_">String</span> [] &#123;<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>&#125;;</span><br><span class="line">List&lt;String&gt; list = Arrays.asList(array);</span><br><span class="line"><span class="keyword">for</span> (String str : list) &#123;</span><br><span class="line">    System.out.println(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä½¿ç”¨Arrays.asListæ–¹æ³•å°†arrayæ•°ç»„ï¼Œç›´æ¥è½¬æ¢æˆäº†listã€‚ç„¶ååœ¨forå¾ªç¯ä¸­éå†listï¼Œæ‰“å°å‡ºå®ƒé‡Œé¢çš„å…ƒç´ ã€‚</p>
<p>å¦‚æœè½¬æ¢åçš„listï¼Œåªæ˜¯ä½¿ç”¨ï¼Œæ²¡æ–°å¢æˆ–ä¿®æ”¹å…ƒç´ ï¼Œä¸ä¼šæœ‰é—®é¢˜ã€‚</p>
<p><em><strong>åä¾‹</strong></em>ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String[] array = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>&#125;;</span><br><span class="line">List&lt;String&gt; list = Arrays.asList(array);</span><br><span class="line">list.add(<span class="string">&quot;d&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> (String str : list) &#123;</span><br><span class="line">    System.out.println(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.lang.UnsupportedOperationException</span><br><span class="line">at java.util.AbstractList.add(AbstractList.java:<span class="number">148</span>)</span><br><span class="line">at java.util.AbstractList.add(AbstractList.java:<span class="number">108</span>)</span><br><span class="line">at com.sue.jump.service.test1.Test2.main(Test2.java:<span class="number">24</span>)</span><br></pre></td></tr></table></figure>

<p>ä¼šç›´æ¥æŠ¥<code>UnsupportedOperationException</code>å¼‚å¸¸ã€‚</p>
<p>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p>
<p>ç­”ï¼šä½¿ç”¨<em><strong>Arrays.asList</strong></em>æ–¹æ³•è½¬æ¢åçš„<em><strong>ArrayList</strong></em>ï¼Œæ˜¯<em><strong>Arrays</strong></em>ç±»çš„å†…éƒ¨ç±»ï¼Œå¹¶é<em><strong>java.util</strong></em>åŒ…ä¸‹æˆ‘ä»¬å¸¸ç”¨çš„<em><strong>ArrayList</strong></em>ã€‚</p>
<p>Arraysç±»çš„å†…éƒ¨ArrayListç±»ï¼Œå®ƒæ²¡æœ‰å®ç°çˆ¶ç±»çš„addå’Œremoveæ–¹æ³•,ç”¨çš„æ˜¯çˆ¶ç±»AbstractListçš„é»˜è®¤å®ç°ã€‚</p>
<p>æˆ‘ä»¬çœ‹çœ‹<em><strong>AbstractList</strong></em>æ˜¯å¦‚ä½•å®ç°çš„ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> index, E element)</span> &#123;</span><br><span class="line">   <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">UnsupportedOperationException</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> E <span class="title function_">remove</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">   <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">UnsupportedOperationException</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯¥ç±»çš„<em><strong>add</strong></em>å’Œ<em><strong>remove</strong></em>æ–¹æ³•ç›´æ¥æŠ›å¼‚å¸¸äº†ï¼Œå› æ­¤è°ƒç”¨Arraysç±»çš„å†…éƒ¨ArrayListç±»çš„addå’Œremoveæ–¹æ³•ï¼ŒåŒæ ·ä¼šæŠ›å¼‚å¸¸ã€‚</p>
<p>è¯´å®è¯ï¼ŒJavaä»£ç ä¼˜åŒ–æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¤§çš„è¯é¢˜ï¼Œå®ƒé‡Œé¢å¯ä»¥ä¼˜åŒ–çš„ç‚¹éå¸¸å¤šï¼Œæˆ‘æ²¡åŠæ³•ä¸€ä¸€åˆ—ä¸¾å®Œã€‚åœ¨è¿™é‡Œåªèƒ½æŠ›ç –å¼•ç‰ï¼Œä»‹ç»ä¸€ä¸‹æ¯”è¾ƒå¸¸è§çš„çŸ¥è¯†ç‚¹ï¼Œæ›´å…¨é¢çš„å†…å®¹ï¼Œéœ€è¦å°ä¼™ä¼´ä»¬è‡ªå·±å»æ€è€ƒå’Œæ¢ç´¢ã€‚</p>
<p>è¿™ç¯‡æ–‡ç« å†™äº†å¾ˆä¹…ï¼ŒèŠ±äº†å¾ˆå¤šæ—¶é—´å’Œå¿ƒæ€ï¼Œå¦‚æœä½ çœ‹äº†æ–‡ç« æœ‰äº›æ”¶è·ï¼Œè®°å¾—ç»™æˆ‘ç‚¹èµé¼“åŠ±ä¸€ä¸‹å–”ã€‚</p>
<p>bye</p>
<br />]]></content>
      <categories>
        <category>ä»£ç ä¼˜åŒ–</category>
      </categories>
      <tags>
        <tag>ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>javaå¸¸ç”¨ç¬¬ä¸‰æ–¹å·¥å…·åº“</title>
    <url>/2023/06/04/java%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%BA%93/</url>
    <content><![CDATA[<br />

<h3 id="Javaå¸¸ç”¨å·¥å…·ç±»åº“"><a href="#Javaå¸¸ç”¨å·¥å…·ç±»åº“" class="headerlink" title="Javaå¸¸ç”¨å·¥å…·ç±»åº“"></a>Javaå¸¸ç”¨å·¥å…·ç±»åº“</h3><ul>
<li><a href="#1_java_2">1. javaè‡ªå¸¦å·¥å…·æ–¹æ³•</a></li>
<li><a href="#2_apache_commons_118">2. apache commonså·¥å…·ç±»åº“</a><ul>
<li></li>
<li><a href="#21_commonslangjavalang_121">2.1 commons-langï¼Œjava.langçš„å¢å¼ºç‰ˆ</a></li>
<li><a href="#22_commonscollections__211">2.2 commons-collections é›†åˆå·¥å…·ç±»</a></li>
<li><a href="#23_commonbeanutils__269">2.3 common-beanutils æ“ä½œå¯¹è±¡</a></li>
<li><a href="#24_commonsio__335">2.4 commons-io æ–‡ä»¶æµå¤„ç†</a></li>
</ul>
</li>
<li><a href="#3_Google_guava_383">3. Google guavaå·¥å…·ç±»åº“</a></li>
<li><a href="#4_Hutool_510">4. Hutoolå·¥å…·ç±»åº“</a></li>
<li><a href="#5_json_527">5. jsonå¤„ç†å·¥å…·</a></li>
</ul>
<br />

]]></content>
      <categories>
        <category>javaå·¥å…·ç±»åº“</category>
      </categories>
      <tags>
        <tag>hutool</tag>
        <tag>apache common</tag>
        <tag>guava</tag>
      </tags>
  </entry>
  <entry>
    <title>linuxå¸¸ç”¨å‘½ä»¤</title>
    <url>/2023/06/04/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/</url>
    <content><![CDATA[<hr>
<p><a href="https://blog.csdn.net/weixin_44624117/article/details/101368670">1ã€å¸¸ç”¨Linuxå‘½ä»¤</a><br><a href="https://blog.csdn.net/lydms/article/details/128926048">2ã€Linuxä¸‹è„šæœ¬ç¼–å†™</a><br><a href="https://blog.csdn.net/weixin_44624117/article/details/103768670">3ã€windowsä¸‹CMDå¸¸ç”¨å‘½ä»¤</a></p>
<hr>
<br />

<h3 id="æ–‡ç« ç›®å½•"><a href="#æ–‡ç« ç›®å½•" class="headerlink" title="æ–‡ç« ç›®å½•"></a>æ–‡ç« ç›®å½•</h3><ul>
<li><ul>
<li><a href="#_35">ä¸€ã€ç›®å½•æ“ä½œ</a><ul>
<li></li>
<li><a href="#1_99">1ã€æ‰¹é‡æ“ä½œ</a></li>
</ul>
</li>
<li><a href="#_108">äºŒã€æ–‡ä»¶æ“ä½œ</a></li>
<li><a href="#font_colordd0000font_186">ä¸‰ã€æ–‡ä»¶å†…å®¹æ“ä½œï¼ˆæŸ¥çœ‹æ—¥å¿—ï¼Œæ›´æ”¹é…ç½®æ–‡ä»¶ï¼‰</a><ul>
<li></li>
<li><a href="#1grep_245">1ã€grep(æ£€ç´¢æ–‡ä»¶å†…å®¹)</a></li>
<li><a href="#2awk_262">2ã€awk(æ•°æ®ç»Ÿè®¡)</a></li>
<li><a href="#3sed_321">3ã€sed(æ›¿æ¢æ–‡ä»¶å†…å®¹)</a></li>
<li><a href="#4_391">4ã€ç®¡é“æ“ä½œç¬¦`|`</a></li>
<li><a href="#5cut_436">5ã€cut(æ•°æ®è£å‰ª)</a></li>
</ul>
</li>
<li><a href="#_466">å››ã€ç³»ç»Ÿæ—¥å¿—ä½ç½®</a></li>
<li><a href="#_483">äº”ã€åˆ›å»ºä¸åˆ é™¤è½¯è¿æ¥</a></li>
<li><a href="#_501">å…­ã€å‹ç¼©å’Œè§£å‹ç¼©</a></li>
<li><a href="#Linux_554">ä¸ƒã€Linuxä¸‹æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯</a></li>
<li><a href="#docker_577">å…«ã€å¸¸ç”¨çš„dockerå®¹å™¨çš„å‘½ä»¤ï¼š</a></li>
<li><a href="#_609">ä¹ã€è¿ç»´å¸¸ç”¨å‘½ä»¤</a><ul>
<li></li>
<li><a href="#1_610">1ã€æŸ¥çœ‹æœåŠ¡å™¨ç«¯å£å·æ˜¯å¦å¯ç”¨</a></li>
</ul>
</li>
<li><a href="#yum_753">åã€yumå¸¸ç”¨å‘½ä»¤</a></li>
<li><a href="#_764">åä¸€ã€å…¶ä»–å‘½ä»¤</a><ul>
<li></li>
<li><a href="#1xargs_765">1ã€xargs</a></li>
<li><a href="#2curl_885">2ã€curlè¯­æ³•</a></li>
<li><a href="#3_903">3ã€æŸ¥è¯¢æ”¯æŒè§£æå™¨</a></li>
</ul>
</li>
<li><a href="#Linux_927">åäºŒã€Linuxå†…æ ¸ä¼˜åŒ–</a></li>
<li><a href="#_941">åä¸‰ã€ç”¨æˆ·æƒé™æ“ä½œ</a><ul>
<li></li>
<li><a href="#1_943">1ã€ç”¨æˆ·æ“ä½œ</a></li>
<li><a href="#2_1025">2ã€æ·»åŠ ç»„</a></li>
<li><a href="#3sudo_1057">3ã€sudoç”¨æˆ·æƒé™æ“ä½œ</a></li>
<li><a href="#4_1072">4ã€æ›´æ¢æ–‡ä»¶æ‰€æœ‰è€…</a></li>
</ul>
</li>
<li><a href="#TOP_1088">åå››ã€TOP</a><ul>
<li></li>
<li><a href="#1_1100">1ã€ç»Ÿè®¡ä¿¡æ¯åŒº</a></li>
<li><a href="#2_1142">2ã€è¿›ç¨‹ä¿¡æ¯åŒº</a></li>
</ul>
</li>
<li><a href="#_1174">åäº”ã€æ–‡ä»¶å®‰è£…</a><ul>
<li></li>
<li><a href="#1lrzsz_1175">1ã€æ–‡ä»¶ä¸‹è½½(lrzsz)</a></li>
</ul>
</li>
<li><a href="#PDF_1190">åå…­ã€æ–‡ç« PDFç‰ˆæœ¬</a></li>
</ul>
</li>
</ul>
<br />

<hr>
<p>Linux ç³»ç»Ÿç›®å½•</p>
<figure class="highlight plaintext"><figcaption><span>language-shell</span></figcaption><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ bin -&gt; usr/bin # ç”¨äºå­˜æ”¾äºŒè¿›åˆ¶å‘½ä»¤</span><br><span class="line">â”œâ”€â”€ boot # å†…æ ¸åŠå¼•å¯¼ç³»ç»Ÿç¨‹åºæ‰€åœ¨çš„ç›®å½•</span><br><span class="line">â”œâ”€â”€ dev # æ‰€æœ‰è®¾å¤‡æ–‡ä»¶çš„ç›®å½•ï¼ˆå¦‚ç£ç›˜ã€å…‰é©±ç­‰ï¼‰</span><br><span class="line">â”œâ”€â”€ etc # é…ç½®æ–‡ä»¶é»˜è®¤è·¯å¾„ã€æœåŠ¡å¯åŠ¨å‘½ä»¤å­˜æ”¾ç›®å½•</span><br><span class="line">â”œâ”€â”€ home # ç”¨æˆ·å®¶ç›®å½•ï¼Œrootç”¨æˆ·ä¸º/root</span><br><span class="line">â”œâ”€â”€ lib -&gt; usr/lib # 32ä½åº“æ–‡ä»¶å­˜æ”¾ç›®å½•</span><br><span class="line">â”œâ”€â”€ lib64 -&gt; usr/lib64 # 64ä½åº“æ–‡ä»¶å­˜æ”¾ç›®å½•</span><br><span class="line">â”œâ”€â”€ media # åª’ä½“æ–‡ä»¶å­˜æ”¾ç›®å½•</span><br><span class="line">â”œâ”€â”€ mnt # ä¸´æ—¶æŒ‚è½½è®¾å¤‡ç›®å½•</span><br><span class="line">â”œâ”€â”€ opt # è‡ªå®šä¹‰è½¯ä»¶å®‰è£…å­˜æ”¾ç›®å½•</span><br><span class="line">â”œâ”€â”€ proc # è¿›ç¨‹åŠå†…æ ¸ä¿¡æ¯å­˜æ”¾ç›®å½•</span><br><span class="line">â”œâ”€â”€ root # Rootç”¨æˆ·å®¶ç›®å½•</span><br><span class="line">â”œâ”€â”€ run # ç³»ç»Ÿè¿è¡Œæ—¶äº§ç”Ÿä¸´æ—¶æ–‡ä»¶ï¼Œå­˜æ”¾ç›®å½•</span><br><span class="line">â”œâ”€â”€ sbin -&gt; usr/sbin # ç³»ç»Ÿç®¡ç†å‘½ä»¤å­˜æ”¾ç›®å½•</span><br><span class="line">â”œâ”€â”€ srv # æœåŠ¡å¯åŠ¨ä¹‹åéœ€è¦è®¿é—®çš„æ•°æ®ç›®å½•</span><br><span class="line">â”œâ”€â”€ sys # ç³»ç»Ÿä½¿ç”¨ç›®å½•</span><br><span class="line">â”œâ”€â”€ tmp # ä¸´æ—¶æ–‡ä»¶ç›®å½•</span><br><span class="line">â”œâ”€â”€ usr # ç³»ç»Ÿå‘½ä»¤å’Œå¸®åŠ©æ–‡ä»¶ç›®å½•</span><br><span class="line">â””â”€â”€ var # å­˜æ”¾å†…å®¹æ˜“å˜çš„æ–‡ä»¶çš„ç›®å½•</span><br></pre></td></tr></table></figure>

<hr>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¥å£æ€§èƒ½ä¼˜åŒ–</title>
    <url>/2023/06/04/%E6%8E%A5%E5%8F%A3%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<p>å‰è¨€ </p>
]]></content>
      <categories>
        <category>ä»£ç ä¼˜åŒ–</category>
      </categories>
      <tags>
        <tag>æ¥å£ä¼˜åŒ–</tag>
        <tag>sqlä¼˜åŒ–</tag>
      </tags>
  </entry>
</search>
